{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/components/LanguageSelector.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useLanguage } from '@/contexts/LanguageContext'\r\n\r\nexport default function LanguageSelector() {\r\n  const { locale, setLocale, t } = useLanguage()\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-2 bg-white rounded-lg shadow-sm border border-gray-200 p-1\">\r\n      <button\r\n        onClick={() => setLocale('es')}\r\n        className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${\r\n          locale === 'es'\r\n            ? 'bg-blue-600 text-white shadow-sm'\r\n            : 'text-gray-700 hover:bg-gray-100'\r\n        }`}\r\n        title=\"EspaÃ±ol\"\r\n      >\r\n        <span className=\"text-lg\">ðŸ‡ªðŸ‡¸</span>\r\n        <span className=\"ml-2\">ES</span>\r\n      </button>\r\n      <button\r\n        onClick={() => setLocale('en')}\r\n        className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${\r\n          locale === 'en'\r\n            ? 'bg-blue-600 text-white shadow-sm'\r\n            : 'text-gray-700 hover:bg-gray-100'\r\n        }`}\r\n        title=\"English\"\r\n      >\r\n        <span className=\"text-lg\">ðŸ‡ºðŸ‡¸</span>\r\n        <span className=\"ml-2\">EN</span>\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,IAAA,kJAAW;IAE5C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,SAAS,IAAM,UAAU;gBACzB,WAAW,CAAC,wDAAwD,EAClE,WAAW,OACP,qCACA,mCACJ;gBACF,OAAM;;kCAEN,8OAAC;wBAAK,WAAU;kCAAU;;;;;;kCAC1B,8OAAC;wBAAK,WAAU;kCAAO;;;;;;;;;;;;0BAEzB,8OAAC;gBACC,SAAS,IAAM,UAAU;gBACzB,WAAW,CAAC,wDAAwD,EAClE,WAAW,OACP,qCACA,mCACJ;gBACF,OAAM;;kCAEN,8OAAC;wBAAK,WAAU;kCAAU;;;;;;kCAC1B,8OAAC;wBAAK,WAAU;kCAAO;;;;;;;;;;;;;;;;;;AAI/B","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/components/AppHeader.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useEffect, useMemo } from \"react\";\r\nimport LanguageSelector from \"./LanguageSelector\";\r\nimport { useLanguage } from \"@/contexts/LanguageContext\";\r\n\r\nexport default function AppHeader() {\r\n  const { t } = useLanguage();\r\n  const apiBaseUrl = useMemo(() => {\r\n    const sanitize = (u: string) => u.replace(/\\/+$/, \"\");\r\n    const env = process.env.NEXT_PUBLIC_API_URL?.trim() || process.env.NEXT_PUBLIC_BACKEND_URL?.trim();\r\n    if (env) return sanitize(env);\r\n    if (typeof window !== \"undefined\") {\r\n      if (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\") {\r\n        return sanitize(\"http://localhost:8000\");\r\n      }\r\n      return sanitize(window.location.origin);\r\n    }\r\n    return \"\";\r\n  }, []);\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await fetch(`${apiBaseUrl}/api/logout/`, { method: \"POST\", credentials: \"include\" });\r\n    } catch {\r\n      // ignore network errors\r\n    } finally {\r\n      window.location.href = \"/login\";\r\n    }\r\n  };\r\n\r\n  // Theme switch (shared across pages)\r\n  useEffect(() => {\r\n    if (typeof document === \"undefined\") return;\r\n    const body = document.body;\r\n    const toggle = document.getElementById(\"themeSwitch\") as HTMLInputElement | null;\r\n    const label = document.getElementById(\"themeLabel\");\r\n    const root = document.documentElement;\r\n\r\n    const apply = (dark: boolean) => {\r\n      if (dark) {\r\n        body.setAttribute(\"data-theme\", \"dark\");\r\n        try { localStorage.setItem(\"theme\", \"dark\"); } catch {}\r\n        if (toggle) toggle.checked = true;\r\n        if (label) label.textContent = t.common.dark;\r\n      } else {\r\n        body.removeAttribute(\"data-theme\");\r\n        try { localStorage.setItem(\"theme\", \"light\"); } catch {}\r\n        if (toggle) toggle.checked = false;\r\n        if (label) label.textContent = t.common.light;\r\n      }\r\n    };\r\n\r\n    // default to dark if not set\r\n    const saved = ((): string | null => {\r\n      try { return localStorage.getItem(\"theme\"); } catch { return null; }\r\n    })();\r\n    apply(!saved || saved === \"dark\");\r\n\r\n    // Apply font scale if present\r\n    try {\r\n      const fs = localStorage.getItem(\"ajustes_font_scale\");\r\n      if (fs) root.setAttribute(\"data-font-scale\", fs);\r\n    } catch {}\r\n\r\n    if (toggle) {\r\n      const onChange = () => apply(toggle.checked);\r\n      toggle.addEventListener(\"change\", onChange);\r\n      return () => toggle.removeEventListener(\"change\", onChange);\r\n    }\r\n    return () => {};\r\n  }, []);\r\n\r\n  return (\r\n    <header className=\"inventory-header\">\r\n      <div className=\"inventory-header__inner\">\r\n        <div className=\"header-bar\">\r\n          <h1>{t.header.title}</h1>\r\n          <div className=\"header-actions\" style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n            <LanguageSelector />\r\n            <input type=\"checkbox\" id=\"themeSwitch\" hidden />\r\n            <label htmlFor=\"themeSwitch\" className=\"switch\" aria-label={t.common.theme} />\r\n            <span id=\"themeLabel\" className=\"theme-label\">{t.common.light}</span>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleLogout}\r\n              style={{\r\n                padding: \"8px 12px\",\r\n                borderRadius: 10,\r\n                border: \"1px solid rgba(255,255,255,.12)\",\r\n                background: \"linear-gradient(90deg,#7b5cff,#26c4ff)\",\r\n                color: \"#fff\",\r\n                fontWeight: 700,\r\n                cursor: \"pointer\",\r\n              }}\r\n              aria-label={t.common.logout}\r\n              title={t.common.logout}\r\n            >\r\n              {t.common.logout}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <nav>\r\n          <ul>\r\n            <li><Link href=\"/inicio\">{t.common.home}</Link></li>\r\n            <li><Link href=\"/inventario\">{t.common.inventory}</Link></li>\r\n            <li><Link href=\"/categorias\">{t.common.categories}</Link></li>\r\n            <li><Link href=\"/presupuesto\">{t.common.budget}</Link></li>\r\n            <li><Link href=\"/ajustes\">{t.common.settings}</Link></li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 370, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/components/AppFooter.tsx"],"sourcesContent":["\"use client\";\r\n\r\nexport default function AppFooter() {\r\n  const year = new Date().getFullYear();\r\n  return (\r\n    <footer className=\"inventory-footer\">\r\n      <p>\r\n        Â© {year} Servigenman â€” Uso exclusivo del personal autorizado Â·\r\n        <a href=\"mailto:soporte@servigenman.cl\"> soporte@servigenman.cl</a>\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;;AAEe,SAAS;IACtB,MAAM,OAAO,IAAI,OAAO,WAAW;IACnC,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;;gBAAE;gBACE;gBAAK;8BACR,8OAAC;oBAAE,MAAK;8BAAgC;;;;;;;;;;;;;;;;;AAIhD","debugId":null}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/app/%28auth%29/login/components/AnimatedBackground.tsx"],"sourcesContent":["export function AnimatedBackground() {\r\n  return (\r\n    <>\r\n      <div className=\"waves\" aria-hidden=\"true\">\r\n        <svg className=\"waves-svg\" viewBox=\"0 0 1440 900\" preserveAspectRatio=\"none\">\r\n          <defs>\r\n            <linearGradient id=\"gA\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n              <stop offset=\"0%\" stopColor=\"var(--wave-a)\" />\r\n              <stop offset=\"100%\" stopColor=\"var(--wave-b)\" />\r\n            </linearGradient>\r\n            <linearGradient id=\"gB\" x1=\"100%\" y1=\"0%\" x2=\"0%\" y2=\"0%\">\r\n              <stop offset=\"0%\" stopColor=\"var(--wave-b)\" />\r\n              <stop offset=\"100%\" stopColor=\"var(--wave-a)\" />\r\n            </linearGradient>\r\n          </defs>\r\n          <path\r\n            className=\"wave slow\"\r\n            stroke=\"url(#gA)\"\r\n            d=\"M0,130 C180,110 300,85 520,95 C740,105 900,145 1080,135 C1260,125 1360,100 1440,110\"\r\n          />\r\n          <path\r\n            className=\"wave mid\"\r\n            stroke=\"url(#gB)\"\r\n            d=\"M0,450 C220,430 360,410 580,420 C800,430 980,470 1140,460 C1300,450 1380,420 1440,430\"\r\n          />\r\n          <path\r\n            className=\"wave\"\r\n            stroke=\"url(#gA)\"\r\n            d=\"M0,760 C200,740 340,740 560,740 C780,740 960,770 1120,760 C1280,750 1380,730 1440,740\"\r\n          />\r\n        </svg>\r\n      </div>\r\n\r\n      <div className=\"circuit\" aria-hidden=\"true\">\r\n        <svg viewBox=\"0 0 1440 900\" preserveAspectRatio=\"none\">\r\n          <path className=\"trace\" d=\"M80 160 H360 L520 260 H780 L980 200 H1320\" />\r\n          <circle className=\"node\" cx=\"360\" cy=\"160\" r=\"3\" />\r\n          <circle className=\"node\" cx=\"520\" cy=\"260\" r=\"3\" />\r\n          <circle className=\"node\" cx=\"980\" cy=\"200\" r=\"3\" />\r\n          <path className=\"trace\" d=\"M120 620 H400 L540 540 L740 560 L980 520 L1300 560\" />\r\n          <circle className=\"node\" cx=\"400\" cy=\"620\" r=\"3\" />\r\n          <circle className=\"node\" cx=\"740\" cy=\"560\" r=\"3\" />\r\n          <path className=\"trace\" d=\"M100 360 L260 360 L420 300 L700 300 L860 360 L1120 340 L1340 380\" />\r\n          <circle className=\"node\" cx=\"260\" cy=\"360\" r=\"3\" />\r\n          <circle className=\"node\" cx=\"700\" cy=\"300\" r=\"3\" />\r\n          <circle className=\"node\" cx=\"1120\" cy=\"340\" r=\"3\" />\r\n        </svg>\r\n      </div>\r\n\r\n      <div className=\"noise\" aria-hidden=\"true\" />\r\n\r\n      <div className=\"rays\" id=\"rays\" aria-hidden=\"true\" />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAO,SAAS;IACd,qBACE;;0BACE,8OAAC;gBAAI,WAAU;gBAAQ,eAAY;0BACjC,cAAA,8OAAC;oBAAI,WAAU;oBAAY,SAAQ;oBAAe,qBAAoB;;sCACpE,8OAAC;;8CACC,8OAAC;oCAAe,IAAG;oCAAK,IAAG;oCAAK,IAAG;oCAAK,IAAG;oCAAO,IAAG;;sDACnD,8OAAC;4CAAK,QAAO;4CAAK,WAAU;;;;;;sDAC5B,8OAAC;4CAAK,QAAO;4CAAO,WAAU;;;;;;;;;;;;8CAEhC,8OAAC;oCAAe,IAAG;oCAAK,IAAG;oCAAO,IAAG;oCAAK,IAAG;oCAAK,IAAG;;sDACnD,8OAAC;4CAAK,QAAO;4CAAK,WAAU;;;;;;sDAC5B,8OAAC;4CAAK,QAAO;4CAAO,WAAU;;;;;;;;;;;;;;;;;;sCAGlC,8OAAC;4BACC,WAAU;4BACV,QAAO;4BACP,GAAE;;;;;;sCAEJ,8OAAC;4BACC,WAAU;4BACV,QAAO;4BACP,GAAE;;;;;;sCAEJ,8OAAC;4BACC,WAAU;4BACV,QAAO;4BACP,GAAE;;;;;;;;;;;;;;;;;0BAKR,8OAAC;gBAAI,WAAU;gBAAU,eAAY;0BACnC,cAAA,8OAAC;oBAAI,SAAQ;oBAAe,qBAAoB;;sCAC9C,8OAAC;4BAAK,WAAU;4BAAQ,GAAE;;;;;;sCAC1B,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAK,WAAU;4BAAQ,GAAE;;;;;;sCAC1B,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAK,WAAU;4BAAQ,GAAE;;;;;;sCAC1B,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAO,IAAG;4BAAM,GAAE;;;;;;;;;;;;;;;;;0BAIlD,8OAAC;gBAAI,WAAU;gBAAQ,eAAY;;;;;;0BAEnC,8OAAC;gBAAI,WAAU;gBAAO,IAAG;gBAAO,eAAY;;;;;;;;AAGlD","debugId":null}},
    {"offset": {"line": 677, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/app/%28auth%29/login/hooks/useBodyClass.ts"],"sourcesContent":["import { useEffect } from \"react\";\r\n\r\nexport function useBodyClass() {\r\n  useEffect(() => {\r\n    if (typeof document === \"undefined\") {\r\n      return;\r\n    }\r\n\r\n    const bodyClass = \"servigenman-login\";\r\n    const htmlClass = \"servigenman-login-root\";\r\n\r\n    document.body.classList.add(bodyClass);\r\n    document.documentElement.classList.add(htmlClass);\r\n\r\n    return () => {\r\n      document.body.classList.remove(bodyClass);\r\n      document.documentElement.classList.remove(htmlClass);\r\n    };\r\n  }, []);\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS;IACd,IAAA,kNAAS,EAAC;QACR,IAAI,OAAO,aAAa,aAAa;YACnC;QACF;QAEA,MAAM,YAAY;QAClB,MAAM,YAAY;QAElB,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;QAC5B,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QAEvC,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC/B,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;QAC5C;IACF,GAAG,EAAE;AACP","debugId":null}},
    {"offset": {"line": 702, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/app/inventario/interaction.ts"],"sourcesContent":["type XLSXNamespace = {\r\n  utils: {\r\n    aoa_to_sheet: (data: unknown[][]) => unknown;\r\n    book_new: () => unknown;\r\n    book_append_sheet: (wb: unknown, ws: unknown, name: string) => void;\r\n  };\r\n  writeFile: (workbook: unknown, filename: string) => void;\r\n};\r\n\r\ntype WindowWithXLSX = Window & {\r\n  XLSX?: XLSXNamespace;\r\n};\r\n\r\ntype InventoryItem = {\r\n  id: number;\r\n  recurso: string;\r\n  categoria: string;\r\n  cantidad: number;\r\n  precio: number;\r\n  foto: string;\r\n  info: string;\r\n};\r\n\r\ntype CleanupFn = () => void;\r\n\r\ntype FilterOptions = {\r\n  resetPage?: boolean;\r\n};\r\n\r\nconst INVENTORY_KEY = \"inventarioData\";\r\nconst CATS_KEY = \"categoriasInventario\";\r\n\r\n// Backend base URL (override at build time with NEXT_PUBLIC_BACKEND_URL)\r\nconst BACKEND_URL =\r\n  (typeof process !== \"undefined\" &&\r\n    (process as any).env &&\r\n    ((process as any).env.NEXT_PUBLIC_API_URL ||\r\n      (process as any).env.NEXT_PUBLIC_BACKEND_URL)) ||\r\n  \"http://localhost:8000\";\r\n\r\nasync function backendFetch(path: string, options?: RequestInit): Promise<Response> {\r\n  const url = `${BACKEND_URL.replace(/\\/$/, \"\")}${path}`;\r\n  return fetch(url, {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      ...(options?.headers || {}),\r\n    },\r\n    ...options,\r\n  });\r\n}\r\n\r\nasync function apiListItems(): Promise<InventoryItem[] | null> {\r\n  try {\r\n    const res = await backendFetch(`/api/inventory/items/`, { method: \"GET\" });\r\n    if (!res.ok) return null;\r\n    const data = (await res.json()) as { results?: InventoryItem[] };\r\n    return Array.isArray(data?.results) ? data.results : null;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function apiCreateItem(\r\n  payload: Omit<InventoryItem, \"id\">\r\n): Promise<InventoryItem | null> {\r\n  try {\r\n    const res = await backendFetch(`/api/inventory/items/`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(payload),\r\n    });\r\n    if (!res.ok) return null;\r\n    return (await res.json()) as InventoryItem;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function apiUpdateItem(\r\n  id: number,\r\n  payload: Partial<InventoryItem>\r\n): Promise<InventoryItem | null> {\r\n  try {\r\n    const res = await backendFetch(`/api/inventory/items/${id}/`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(payload),\r\n    });\r\n    if (!res.ok) return null;\r\n    return (await res.json()) as InventoryItem;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nasync function apiDeleteItem(id: number): Promise<boolean> {\r\n  try {\r\n    const res = await backendFetch(`/api/inventory/items/${id}/`, {\r\n      method: \"DELETE\",\r\n    });\r\n    return res.ok;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nconst filasPorPagina = 10;\nlet paginaActual = 1;\nlet currentEditingRow: HTMLTableRowElement | null = null;\n\nfunction showEditToolbar(row: HTMLTableRowElement) {\n  currentEditingRow = row;\n  let bar = document.getElementById(\"editToolbar\");\n  if (!bar) {\n    bar = document.createElement(\"div\");\n    bar.id = \"editToolbar\";\n    bar.className = \"edit-toolbar\";\n    bar.innerHTML = `\n      <div class=\"edit-toolbar__inner\">\n        <span class=\"edit-toolbar__label\">Editando recurso</span>\n        <div class=\"edit-toolbar__actions\">\n          <button type=\"button\" id=\"editToolbarSave\" class=\"edit-toolbar__btn primary\">Guardar cambios</button>\n          <button type=\"button\" id=\"editToolbarCancel\" class=\"edit-toolbar__btn\">Cancelar</button>\n        </div>\n      </div>`;\n    document.body.appendChild(bar);\n  }\n  const save = document.getElementById(\"editToolbarSave\") as HTMLButtonElement | null;\n  const cancel = document.getElementById(\"editToolbarCancel\") as HTMLButtonElement | null;\n  if (save) {\n    save.onclick = () => {\n      const btn = currentEditingRow?.querySelector<HTMLButtonElement>('button[data-action=\"save\"]');\n      if (btn) void guardarFila(btn);\n    };\n  }\n  if (cancel) {\n    cancel.onclick = () => {\n      const btn = currentEditingRow?.querySelector<HTMLButtonElement>('button[data-action=\"cancel\"]');\n      if (btn) cancelarEdicion(btn);\n    };\n  }\n  bar.style.display = \"block\";\n}\n\nfunction hideEditToolbar() {\n  const bar = document.getElementById(\"editToolbar\");\n  if (bar) bar.style.display = \"none\";\n  currentEditingRow = null;\n}\n\r\nexport function initializeInventoryPage(): CleanupFn {\r\n  if (typeof document === \"undefined\") {\r\n    return () => {};\r\n  }\r\n\r\n  const cleanupFns: CleanupFn[] = [];\r\n\r\n  // Try backend first; fallback to local storage / DOM\r\n  void bootstrapInventario();\r\n  ordenarTabla();\r\n  filtrarTabla({ resetPage: true });\r\n  paginaActual = 1;\r\n  actualizarPaginacion();\r\n  initCategoriasDesdeTablaYListas();\r\n  aplicarPresetCategoria();\r\n\r\n  const form = document.getElementById(\"formAgregar\");\r\n  if (form) {\r\n    const submitHandler = (event: Event) => {\r\n      void agregarRecurso(event as SubmitEvent);\r\n    };\r\n    form.addEventListener(\"submit\", submitHandler);\r\n    cleanupFns.push(() => form.removeEventListener(\"submit\", submitHandler));\r\n  }\r\n\r\n  const filtroInputs: Array<[string, keyof GlobalEventHandlersEventMap]> = [\r\n    [\"filtroIdRango\", \"input\"],\r\n    [\"filtroRecurso\", \"input\"],\r\n    [\"filtroCategoria\", \"input\"],\r\n    [\"filtroInfo\", \"input\"],\r\n    [\"ordenarPor\", \"change\"],\r\n  ];\r\n\r\n  filtroInputs.forEach(([id, evt]) => {\r\n    const element = document.getElementById(id) as HTMLElement | null;\r\n    if (!element) return;\r\n\r\n    if (id === \"ordenarPor\") {\r\n      const handler: EventListener = () => {\r\n        ordenarTabla();\r\n        actualizarPaginacion();\r\n      };\r\n      element.addEventListener(evt, handler);\r\n      cleanupFns.push(() => element.removeEventListener(evt, handler));\r\n      return;\r\n    }\r\n\r\n    if (id === \"filtroRecurso\") {\r\n      const handler: EventListener = () => {\r\n        actualizarSugerencias();\r\n        filtrarTabla({ resetPage: true });\r\n      };\r\n      element.addEventListener(evt, handler);\r\n      cleanupFns.push(() => element.removeEventListener(evt, handler));\r\n      return;\r\n    }\r\n\r\n    const handler: EventListener = () => filtrarTabla({ resetPage: true });\r\n    element.addEventListener(evt, handler);\r\n    cleanupFns.push(() => element.removeEventListener(evt, handler));\r\n  });\r\n\r\n  const botonLimpiar = document.querySelector(\r\n    \"#filtros .boton-limpiar\"\r\n  ) as HTMLButtonElement | null;\r\n  if (botonLimpiar) {\r\n    const handler = () => limpiarFiltros();\r\n    botonLimpiar.addEventListener(\"click\", handler);\r\n    cleanupFns.push(() => botonLimpiar.removeEventListener(\"click\", handler));\r\n  }\r\n\r\n  const exportToggle = document.querySelector(\r\n    \".boton-exportar\"\r\n  ) as HTMLButtonElement | null;\r\n  if (exportToggle) {\r\n    const handler = () => toggleExportMenu();\r\n    exportToggle.addEventListener(\"click\", handler);\r\n    cleanupFns.push(() => exportToggle.removeEventListener(\"click\", handler));\r\n  }\r\n\r\n  const submenuButtons = Array.from(\r\n    document.querySelectorAll<HTMLButtonElement>(\".submenu-btn\")\r\n  );\r\n  submenuButtons.forEach((button) => {\r\n    const handler = () => {\r\n      const submenuId = button.dataset.submenu;\r\n      if (submenuId) {\r\n        toggleSubmenu(submenuId);\r\n      }\r\n    };\r\n    button.addEventListener(\"click\", handler);\r\n    cleanupFns.push(() => button.removeEventListener(\"click\", handler));\r\n  });\r\n\r\n  const exportLinks = Array.from(\r\n    document.querySelectorAll<HTMLAnchorElement>(\"[data-export]\")\r\n  );\r\n  exportLinks.forEach((link) => {\r\n    const handler = (event: MouseEvent) => {\r\n      event.preventDefault();\r\n      const action = link.dataset.export;\r\n      if (!action) return;\r\n      if (action === \"excel-visible\") {\r\n        exportarExcel(\"visible\");\r\n      } else if (action === \"excel-todo\") {\r\n        exportarExcel(\"todo\");\r\n      } else if (action === \"csv-visible\") {\r\n        exportarCSV(\"visible\");\r\n      } else if (action === \"csv-todo\") {\r\n        exportarCSV(\"todo\");\r\n      }\r\n      closeAllMenus();\r\n    };\r\n    link.addEventListener(\"click\", handler);\r\n    cleanupFns.push(() => link.removeEventListener(\"click\", handler));\r\n  });\r\n\r\n  const exportContainer = document.querySelector(\".exportar-dropdown\");\r\n  if (exportContainer) {\r\n    const handler = (event: MouseEvent) => {\r\n      if (!(event.target instanceof Node)) return;\r\n      if (!event.target.closest(\".exportar-dropdown\")) {\r\n        closeAllMenus();\r\n      }\r\n    };\r\n    document.addEventListener(\"click\", handler);\r\n    cleanupFns.push(() => document.removeEventListener(\"click\", handler));\r\n  }\r\n\r\n  const btnPrev = document.getElementById(\"btnAnterior\");\r\n  if (btnPrev) {\r\n    const handler = () => cambiarPagina(-1);\r\n    btnPrev.addEventListener(\"click\", handler);\r\n    cleanupFns.push(() => btnPrev.removeEventListener(\"click\", handler));\r\n  }\r\n\r\n  const btnNext = document.getElementById(\"btnSiguiente\");\r\n  if (btnNext) {\r\n    const handler = () => cambiarPagina(1);\r\n    btnNext.addEventListener(\"click\", handler);\r\n    cleanupFns.push(() => btnNext.removeEventListener(\"click\", handler));\r\n  }\r\n\r\n  const themeSwitch = document.getElementById(\"themeSwitch\") as\r\n    | HTMLInputElement\r\n    | null;\r\n  if (themeSwitch) {\r\n    const handler = () => updateTheme(themeSwitch.checked);\r\n    themeSwitch.addEventListener(\"change\", handler);\r\n    cleanupFns.push(() => themeSwitch.removeEventListener(\"change\", handler));\r\n    applyStoredTheme();\r\n  }\r\n\r\n  const filtroRecurso = document.getElementById(\"filtroRecurso\");\r\n  if (filtroRecurso) {\r\n    const handler = (event: MouseEvent) => {\r\n      const target = event.target as HTMLElement;\r\n      if (!target.closest(\"#sugerenciasRecurso\")) {\r\n        const sug = document.getElementById(\"sugerenciasRecurso\");\r\n        if (sug) {\r\n          sug.innerHTML = \"\";\r\n          sug.className = \"autocomplete-box\";\r\n        }\r\n      }\r\n    };\r\n    document.addEventListener(\"click\", handler);\r\n    cleanupFns.push(() => document.removeEventListener(\"click\", handler));\r\n  }\r\n\r\n  const tabla = document.querySelector<HTMLTableElement>(\"#tablaRecursos\");\r\n  if (tabla) {\r\n    const handler = (event: MouseEvent) => {\r\n      const target = event.target as HTMLElement;\r\n      if (!(target instanceof HTMLButtonElement)) return;\r\n      const action = target.dataset.action;\r\n      if (!action) return;\r\n      if (action === \"edit\") {\r\n        editarFila(target);\r\n      } else if (action === \"delete\") {\r\n        eliminarFila(target);\r\n      } else if (action === \"save\") {\r\n        void guardarFila(target);\r\n      } else if (action === \"cancel\") {\r\n        cancelarEdicion(target);\r\n      }\r\n    };\r\n    tabla.addEventListener(\"click\", handler);\r\n    cleanupFns.push(() => tabla.removeEventListener(\"click\", handler));\r\n  }\r\n\r\n  // Listen for currency changes\r\n  const currencyChangeHandler = (event: StorageEvent) => {\r\n    if (event.key === 'ajustes_currency') {\r\n      // Refresh table to update currency formatting\r\n      actualizarPaginacion();\r\n    }\r\n  };\r\n  window.addEventListener('storage', currencyChangeHandler);\r\n  cleanupFns.push(() => window.removeEventListener('storage', currencyChangeHandler));\r\n\r\n  return () => {\r\n    cleanupFns.forEach((fn) => fn());\r\n  };\r\n}\r\n\r\nfunction getXLSX(): XLSXNamespace | null {\r\n  if (typeof window === \"undefined\") return null;\r\n  return (window as WindowWithXLSX).XLSX ?? null;\r\n}\r\n\r\nfunction loadJSON<T>(key: string, defVal: T): T {\r\n  try {\r\n    const raw = localStorage.getItem(key);\r\n    return raw ? (JSON.parse(raw) as T) : defVal;\r\n  } catch (error) {\r\n    console.error(\"Error parsing storage\", error);\r\n    return defVal;\r\n  }\r\n}\r\n\r\nfunction saveJSON(key: string, val: unknown) {\r\n  try {\r\n    localStorage.setItem(key, JSON.stringify(val));\r\n  } catch (error) {\r\n    console.error(\"Error saving storage\", error);\r\n  }\r\n}\r\n\r\nfunction readFileAsDataURL(file: File): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onload = () => resolve(String(reader.result));\r\n    reader.onerror = () => reject(reader.error);\r\n    reader.readAsDataURL(file);\r\n  });\r\n}\r\n\r\nfunction nextIdFromStorage(): number {\r\n  const arr = loadJSON<InventoryItem[]>(\r\n    INVENTORY_KEY,\r\n    snapshotInventarioDesdeTabla()\r\n  );\r\n  return arr.reduce((max, item) => Math.max(max, item.id || 0), 0) + 1;\r\n}\r\n\r\nfunction renderInventarioToDOM(arr: InventoryItem[]) {\r\n  const tbody = document.querySelector<HTMLTableSectionElement>(\r\n    \"#tablaRecursos tbody\"\r\n  );\r\n  if (!tbody) return;\r\n  tbody.innerHTML = \"\";\r\n\r\n  arr.forEach((item) => {\r\n    const tr = document.createElement(\"tr\");\r\n    tr.dataset.match = \"1\";\r\n    tr.innerHTML = `\r\n      <td>${item.id}</td>\r\n      <td>${item.recurso}</td>\r\n      <td>${item.categoria}</td>\r\n      <td>${item.cantidad ?? 0}</td>\r\n      <td data-precio=\"${item.precio ?? 0}\">${formatCurrency(item.precio ?? 0)}</td>\r\n      <td data-foto=\"${item.foto ? \"1\" : \"\"}\">\r\n        ${item.foto ? `<img class=\\\"thumb\\\" src=\\\"${item.foto}\\\" alt=\\\"\\\" />` : \"\"}\r\n      </td>\r\n      <td>${item.info ? item.info : \"\"}</td>\r\n      <td>\r\n        <div class=\"tabla-acciones\">\r\n          <button type=\"button\" class=\"boton-editar\" data-action=\"edit\">Editar</button>\r\n          <button type=\"button\" class=\"boton-eliminar\" data-action=\"delete\">Eliminar</button>\r\n        </div>\r\n      </td>`;\r\n    tbody.appendChild(tr);\r\n  });\r\n  toggleEmptyState(arr.length === 0);\r\n}\r\n\r\nfunction snapshotInventarioDesdeTabla(): InventoryItem[] {\r\n  const rows = Array.from(\r\n    document.querySelectorAll<HTMLTableRowElement>(\"#tablaRecursos tbody tr\")\r\n  );\r\n  return rows.map((tr) => {\r\n    const tds = tr.querySelectorAll<HTMLTableCellElement>(\"td\");\r\n    const img = tds[5]?.querySelector<HTMLImageElement>(\"img\");\r\n    return {\r\n      id: Number.parseInt(tds[0]?.innerText ?? \"0\", 10),\r\n      recurso: tds[1]?.innerText.trim() ?? \"\",\r\n      categoria: tds[2]?.innerText.trim() ?? \"\",\r\n      cantidad: Number.parseInt(tds[3]?.innerText || \"0\", 10) || 0,\r\n      precio: Number.parseFloat(tds[4]?.getAttribute(\"data-precio\") || \"0\") || 0,\r\n      foto: img?.src ?? \"\",\r\n      info: tds[6]?.innerText.trim() ?? \"\",\r\n    };\r\n  });\r\n}\r\n\r\nfunction persistInventario() {\r\n  const items = snapshotInventarioDesdeTabla();\r\n  saveJSON(INVENTORY_KEY, items);\r\n}\r\n\r\nasync function bootstrapInventario() {\r\n  const fromApi = await apiListItems();\r\n  let data: InventoryItem[] | null = null;\r\n\r\n  if (Array.isArray(fromApi)) {\r\n    data = fromApi;\r\n    saveJSON(INVENTORY_KEY, data);\r\n  } else {\r\n    data = loadJSON<InventoryItem[] | null>(INVENTORY_KEY, null);\r\n    if (!Array.isArray(data) || !data.length) {\r\n      data = snapshotInventarioDesdeTabla();\r\n      saveJSON(INVENTORY_KEY, data);\r\n    }\r\n  }\r\n\r\n  renderInventarioToDOM(data);\r\n\r\n  const cats = loadJSON<string[] | null>(CATS_KEY, null);\r\n  if (!Array.isArray(cats) || !cats.length) {\r\n    const set = new Set(\r\n      (data ?? [])\r\n        .map((item) => item?.categoria)\r\n        .filter((value): value is string => Boolean(value))\r\n    );\r\n    saveJSON(CATS_KEY, Array.from(set).sort((a, b) => a.localeCompare(b, \"es\")));\r\n  }\r\n}\r\n\r\nfunction filtrarTabla({ resetPage = true }: FilterOptions = {}) {\r\n  const inputIdRango =\r\n    (document.getElementById(\"filtroIdRango\") as HTMLInputElement | null)\r\n      ?.value.trim() ?? \"\";\r\n\r\n  let idExacto: number | null = null;\r\n  let idDesde: number | null = null;\r\n  let idHasta: number | null = null;\r\n\r\n  if (inputIdRango.includes(\"-\")) {\r\n    const partes = inputIdRango.split(\"-\");\r\n    if (partes[0] !== \"\" && !Number.isNaN(Number(partes[0]))) {\r\n      idDesde = Number.parseInt(partes[0], 10);\r\n    }\r\n    if (partes[1] !== \"\" && !Number.isNaN(Number(partes[1]))) {\r\n      idHasta = Number.parseInt(partes[1], 10);\r\n    }\r\n  } else if (!Number.isNaN(Number(inputIdRango)) && inputIdRango !== \"\") {\r\n    idExacto = Number.parseInt(inputIdRango, 10);\r\n  }\r\n\r\n  const inputRecurso = (\r\n    (document.getElementById(\"filtroRecurso\") as HTMLInputElement | null)\r\n      ?.value || \"\"\r\n  ).toLowerCase();\r\n  const inputCategoria = (\r\n    (document.getElementById(\"filtroCategoria\") as HTMLInputElement | null)\r\n      ?.value || \"\"\r\n  ).toLowerCase();\r\n  const inputInfo = (\r\n    (document.getElementById(\"filtroInfo\") as HTMLInputElement | null)?.value ||\r\n    \"\"\r\n  ).toLowerCase();\r\n\r\n  const filas = document.querySelectorAll<HTMLTableRowElement>(\r\n    \"#tablaRecursos tbody tr\"\r\n  );\r\n\r\n  filas.forEach((fila) => {\r\n    const celdaId = Number.parseInt(fila.cells[0]?.innerText ?? \"0\", 10);\r\n    const celdaRecurso = fila.cells[1]?.innerText.toLowerCase() ?? \"\";\r\n    const celdaCategoria = fila.cells[2]?.innerText.toLowerCase() ?? \"\";\r\n    const celdaInfo = fila.cells[6]?.innerText.toLowerCase() ?? \"\";\r\n\r\n    const coincideId =\r\n      (idExacto === null || celdaId === idExacto) &&\r\n      (idDesde === null || celdaId >= idDesde) &&\r\n      (idHasta === null || celdaId <= idHasta);\r\n\r\n    const mostrar =\r\n      coincideId &&\r\n      celdaRecurso.includes(inputRecurso) &&\r\n      celdaCategoria.includes(inputCategoria) &&\r\n      celdaInfo.includes(inputInfo);\r\n\r\n    fila.dataset.match = mostrar ? \"1\" : \"0\";\r\n    fila.style.display = mostrar ? \"\" : \"none\";\r\n  });\r\n\r\n  if (resetPage) paginaActual = 1;\r\n  actualizarPaginacion();\r\n  persistInventario();\r\n  const visibles = document.querySelectorAll(\r\n    \"#tablaRecursos tbody tr[data-match='1']\"\r\n  ).length;\r\n  toggleEmptyState(visibles === 0);\r\n}\r\n\r\nfunction ordenarTabla() {\r\n  const sel = document.getElementById(\"ordenarPor\") as HTMLSelectElement | null;\r\n  if (!sel) return;\r\n\r\n  const criterio = sel.value;\r\n  const tbody = document.querySelector<HTMLTableSectionElement>(\r\n    \"#tablaRecursos tbody\"\r\n  );\r\n  if (!tbody) return;\r\n\r\n  const filas = Array.from(tbody.querySelectorAll(\"tr\"));\r\n\r\n  let columnaIndex = 0;\r\n  let ascendente = true;\r\n\r\n  switch (criterio) {\r\n    case \"id-asc\":\r\n      columnaIndex = 0;\r\n      ascendente = true;\r\n      break;\r\n    case \"id-desc\":\r\n      columnaIndex = 0;\r\n      ascendente = false;\r\n      break;\r\n    case \"recurso-asc\":\r\n      columnaIndex = 1;\r\n      ascendente = true;\r\n      break;\r\n    case \"recurso-desc\":\r\n      columnaIndex = 1;\r\n      ascendente = false;\r\n      break;\r\n    case \"categoria-asc\":\r\n      columnaIndex = 2;\r\n      ascendente = true;\r\n      break;\r\n    case \"categoria-desc\":\r\n      columnaIndex = 2;\r\n      ascendente = false;\r\n      break;\r\n    case \"cantidad-asc\":\r\n      columnaIndex = 3;\r\n      ascendente = true;\r\n      break;\r\n    case \"cantidad-desc\":\r\n      columnaIndex = 3;\r\n      ascendente = false;\r\n      break;\r\n    case \"precio-asc\":\r\n      columnaIndex = 4;\r\n      ascendente = true;\r\n      break;\r\n    case \"precio-desc\":\r\n      columnaIndex = 4;\r\n      ascendente = false;\r\n      break;\r\n    default:\r\n      return;\r\n  }\r\n\r\n  filas.sort((a, b) => {\r\n    const valorA = a.cells[columnaIndex]?.innerText.trim().toLowerCase() ?? \"\";\r\n    const valorB = b.cells[columnaIndex]?.innerText.trim().toLowerCase() ?? \"\";\r\n\r\n    if ([0, 3, 4].includes(columnaIndex)) {\r\n      const numA = Number.parseFloat(valorA.replace(\",\", \".\")) || 0;\r\n      const numB = Number.parseFloat(valorB.replace(\",\", \".\")) || 0;\r\n      return ascendente ? numA - numB : numB - numA;\r\n    }\r\n\r\n    if (valorA < valorB) return ascendente ? -1 : 1;\r\n    if (valorA > valorB) return ascendente ? 1 : -1;\r\n    return 0;\r\n  });\r\n\r\n  filas.forEach((fila) => tbody.appendChild(fila));\r\n  persistInventario();\r\n}\r\n\r\nfunction limpiarFiltros() {\r\n  const ids = [\"filtroIdRango\", \"filtroRecurso\", \"filtroCategoria\", \"filtroInfo\"];\r\n  ids.forEach((id) => {\r\n    const element = document.getElementById(id) as HTMLInputElement | null;\r\n    if (element) element.value = \"\";\r\n  });\r\n  const sugerencias = document.getElementById(\"sugerenciasRecurso\");\r\n  if (sugerencias) sugerencias.innerHTML = \"\";\r\n  filtrarTabla();\r\n}\r\n\r\nfunction actualizarSugerencias() {\r\n  const recursoInput = document.getElementById(\"filtroRecurso\") as\r\n    | HTMLInputElement\r\n    | null;\r\n  const sugerenciasDiv = document.getElementById(\"sugerenciasRecurso\");\r\n  if (!recursoInput || !sugerenciasDiv) return;\r\n\r\n  const texto = recursoInput.value.toLowerCase();\r\n  sugerenciasDiv.innerHTML = \"\";\r\n\r\n  if (texto.length < 2) {\r\n    sugerenciasDiv.className = \"autocomplete-box\";\r\n    return;\r\n  }\r\n\r\n  sugerenciasDiv.className = \"autocomplete-box show\";\r\n\r\n  const arr = loadJSON<InventoryItem[]>(\r\n    INVENTORY_KEY,\r\n    snapshotInventarioDesdeTabla()\r\n  );\r\n  const recursosUnicos = Array.from(\r\n    new Set(arr.map((item) => item.recurso))\r\n  ).sort((a, b) => a.localeCompare(b, \"es\"));\r\n\r\n  const sugerencias = recursosUnicos\r\n    .filter((recurso) => recurso.toLowerCase().includes(texto))\r\n    .slice(0, 12);\r\n\r\n  sugerencias.forEach((opcion) => {\r\n    const div = document.createElement(\"div\");\r\n    div.className = \"sugerencia-item\";\r\n    const regex = new RegExp(`(${texto})`, \"gi\");\r\n    div.innerHTML = opcion.replace(regex, \"<strong>$1</strong>\");\r\n    div.addEventListener(\"click\", () => {\r\n      recursoInput.value = opcion;\r\n      sugerenciasDiv.innerHTML = \"\";\r\n      sugerenciasDiv.className = \"autocomplete-box\";\r\n      filtrarTabla({ resetPage: true });\r\n    });\r\n    sugerenciasDiv.appendChild(div);\r\n  });\r\n}\r\n\r\nfunction editarFila(button: HTMLButtonElement) {\r\n  const fila = button.closest(\"tr\");\r\n  if (!fila) return;\r\n  const celdas = fila.querySelectorAll<HTMLTableCellElement>(\"td\");\r\n\r\n  const original = {\n    recurso: celdas[1]?.innerText ?? \"\",\n    categoria: celdas[2]?.innerText ?? \"\",\n    cantidad: celdas[3]?.innerText ?? \"0\",\n    precioText: celdas[4]?.innerText ?? \"0\",\n    precioRaw: celdas[4]?.getAttribute(\"data-precio\") ?? \"0\",\n    imgSrc: celdas[5]?.querySelector(\"img\")?.src ?? \"\",\n    info: celdas[6]?.innerText ?? \"\",\n  };\n\r\n  fila.dataset.original = JSON.stringify(original);\r\n\r\n  celdas[1].innerHTML = `<input type=\"text\" value=\"${original.recurso}\" class=\"editar-input\" />`;\r\n  celdas[2].innerHTML = `<input type=\"text\" value=\"${original.categoria}\" class=\"editar-input\" />`;\r\n  celdas[3].innerHTML = `<input type=\"number\" value=\"${original.cantidad}\" min=\"0\" step=\"1\" class=\"editar-input\" />`;\r\n  celdas[4].innerHTML = `<input type=\"number\" value=\"${Number.parseFloat(original.precioRaw) || 0}\" min=\"0\" step=\"0.01\" class=\"editar-input precio\" />`;\n  celdas[5].innerHTML = `\r\n    <div>\r\n      ${\r\n        original.imgSrc\r\n          ? `<img class=\"thumb\" src=\"${original.imgSrc}\" alt=\"\" />`\r\n          : '<img class=\"thumb\" src=\"\" alt=\"\" />'\r\n      }\r\n      <input type=\"file\" class=\"editar-foto\" accept=\"image/*\" style=\"display:block; margin-top:6px;\" />\r\n    </div>`;\r\n  celdas[6].innerHTML = `<input type=\"text\" value=\"${original.info}\" class=\"editar-input info\" />`;\r\n  celdas[7].innerHTML = `\r\n    <div class=\"tabla-acciones\">\r\n      <button type=\"button\" class=\"boton-guardar\" data-action=\"save\">Guardar</button>\r\n      <button type=\"button\" class=\"boton-cancelar\" data-action=\"cancel\">Cancelar</button>\r\n    </div>`;\r\n  showEditToolbar(fila);\n}\r\n\r\nasync function guardarFila(button: HTMLButtonElement) {\r\n  const fila = button.closest(\"tr\");\r\n  if (!fila) return;\r\n  const celdas = fila.querySelectorAll<HTMLTableCellElement>(\"td\");\r\n\r\n  const nuevoRecurso = celdas[1]?.querySelector<HTMLInputElement>(\"input\")?.value.trim() ?? \"\";\r\n  const nuevaCategoria =\r\n    celdas[2]?.querySelector<HTMLInputElement>(\"input\")?.value.trim() ?? \"\";\r\n  const nuevaCantidad = Number.parseInt(\r\n    celdas[3]?.querySelector<HTMLInputElement>(\"input\")?.value || \"0\",\r\n    10\r\n  );\r\n  const nuevoPrecio = Number.parseFloat(\r\n    celdas[4]?.querySelector<HTMLInputElement>(\"input\")?.value || \"0\"\r\n  );\r\n\r\n  const fileInput = celdas[5]?.querySelector<HTMLInputElement>(\"input[type='file']\");\r\n  const imgElement = celdas[5]?.querySelector<HTMLImageElement>(\"img\");\r\n  const nuevaInfo = celdas[6]?.querySelector<HTMLInputElement>(\"input\")?.value.trim() ?? \"\";\r\n\r\n  let fotoDataURL = imgElement?.src ?? \"\";\r\n  if (fileInput && fileInput.files && fileInput.files[0]) {\r\n    fotoDataURL = await readFileAsDataURL(fileInput.files[0]);\r\n  }\r\n\r\n  // ConfirmaciÃ³n de cambios antes de aplicar\n  const safeCantidadTry = Number.isNaN(nuevaCantidad) ? 0 : nuevaCantidad;\n  const safePrecioTry = Number.isNaN(nuevoPrecio) ? 0 : nuevoPrecio;\n\n  const originalRaw = fila.dataset.original || \"\";\n  try {\n    if (originalRaw) {\n      const original = JSON.parse(originalRaw) as {\n        recurso: string;\n        categoria: string;\n        cantidad: string;\n        precioText: string;\n        precioRaw: string;\n        imgSrc: string;\n        info: string;\n      };\n\n      const cambios: string[] = [];\n      if ((original.recurso || \"\") !== (nuevoRecurso || \"\")) {\n        cambios.push(`Recurso: \"${original.recurso || \"\"}\" â†’ \"${nuevoRecurso || \"\"}\"`);\n      }\n      if ((original.categoria || \"\") !== (nuevaCategoria || \"\")) {\n        cambios.push(`CategorÃ­a: \"${original.categoria || \"\"}\" â†’ \"${nuevaCategoria || \"\"}\"`);\n      }\n      if ((original.cantidad || \"0\") !== String(safeCantidadTry)) {\n        cambios.push(`Cantidad: ${original.cantidad || \"0\"} â†’ ${safeCantidadTry}`);\n      }\n      if ((Number.parseFloat(original.precioRaw) || 0) !== safePrecioTry) {\n        cambios.push(\n          `Precio: ${formatCurrency(Number.parseFloat(original.precioRaw) || 0)} â†’ ${formatCurrency(safePrecioTry)}`\n        );\n      }\n      if ((original.info || \"\") !== (nuevaInfo || \"\")) {\n        cambios.push(`Info: \"${original.info || \"\"}\" â†’ \"${nuevaInfo || \"\"}\"`);\n      }\n      const fotoCambio = (original.imgSrc || \"\") !== (fotoDataURL || \"\");\n      if (fotoCambio) {\n        cambios.push(\"Foto: (cambiada)\");\n      }\n\n      if (cambios.length === 0) {\n        // No hay cambios; salir del modo ediciÃ³n sin tocar backend\n        celdas[7].innerHTML = `\n      <div class=\"tabla-acciones\">\n        <button type=\"button\" class=\"boton-editar\" data-action=\"edit\">Editar</button>\n        <button type=\"button\" class=\"boton-eliminar\" data-action=\"delete\">Eliminar</button>\n      </div>`;\n        fila.dataset.original = \"\";\n        filtrarTabla({ resetPage: false });\n        ordenarTabla();\n        actualizarPaginacion();\n        hideEditToolbar();\n        return;\n      }\n\n      const idText = celdas[0]?.innerText ?? \"0\";\n      const ok = window.confirm(`Confirmar modificaciÃ³n del recurso #${idText}\\n\\n` + cambios.join(\"\\n\"));\n      if (!ok) {\n        // Permanecer en modo ediciÃ³n si cancela\n        return;\n      }\n    }\n  } catch {\n    const ok = window.confirm(\"Confirmar modificaciÃ³n de este recurso?\");\n    if (!ok) return;\n  }\n\n  const safeCantidad = safeCantidadTry;\n  const safePrecio = safePrecioTry;\n\n  celdas[1].innerText = nuevoRecurso;\n  celdas[2].innerText = nuevaCategoria;\n  celdas[3].innerText = String(safeCantidad);\n  celdas[4].setAttribute(\"data-precio\", String(safePrecio));\n  celdas[4].innerText = formatCurrency(safePrecio);\n  if (fotoDataURL) {\r\n    celdas[5].innerHTML = `<img class=\"thumb\" src=\"${fotoDataURL}\" alt=\"\" />`;\r\n    celdas[5].setAttribute(\"data-foto\", \"1\");\r\n  } else {\r\n    celdas[5].innerHTML = \"\";\r\n    celdas[5].setAttribute(\"data-foto\", \"\");\r\n  }\r\n  celdas[6].innerText = nuevaInfo;\r\n  celdas[7].innerHTML = `\r\n      <div class=\"tabla-acciones\">\r\n        <button type=\"button\" class=\"boton-editar\" data-action=\"edit\">Editar</button>\r\n        <button type=\"button\" class=\"boton-eliminar\" data-action=\"delete\">Eliminar</button>\r\n      </div>`;\r\n\r\n  const id = Number.parseInt(celdas[0]?.innerText ?? \"0\", 10);\r\n  // Best-effort sync with backend\r\n  void apiUpdateItem(id, {\n    id,\n    recurso: nuevoRecurso,\n    categoria: nuevaCategoria,\n    cantidad: safeCantidad,\n    precio: safePrecio,\n    foto: fotoDataURL,\n    info: nuevaInfo,\n  });\n\r\n  fila.dataset.original = \"\";\r\n  persistInventario();\r\n  const arr = loadJSON<InventoryItem[]>(\r\n    INVENTORY_KEY,\r\n    snapshotInventarioDesdeTabla()\r\n  );\r\n  renderInventarioToDOM(arr);\r\n  filtrarTabla({ resetPage: false });\r\n  ordenarTabla();\r\n  actualizarPaginacion();\r\n  hideEditToolbar();\n}\r\n\r\nfunction cancelarEdicion(button: HTMLButtonElement) {\r\n  const fila = button.closest(\"tr\");\r\n  if (!fila) return;\r\n  const originalRaw = fila.dataset.original;\r\n  if (!originalRaw) return;\r\n\r\n  const original = JSON.parse(originalRaw) as {\n    recurso: string;\n    categoria: string;\n    cantidad: string;\n    precioText: string;\n    precioRaw: string;\n    imgSrc: string;\n    info: string;\n  };\n\r\n  const celdas = fila.querySelectorAll<HTMLTableCellElement>(\"td\");\r\n  celdas[1].innerText = original.recurso;\r\n  celdas[2].innerText = original.categoria;\r\n  celdas[3].innerText = original.cantidad;\r\n  const precioNum = Number.parseFloat(original.precioRaw) || 0;\n  celdas[4].setAttribute(\"data-precio\", String(precioNum));\n  celdas[4].innerText = formatCurrency(precioNum);\n  if (original.imgSrc) {\r\n    celdas[5].innerHTML = `<img class=\"thumb\" src=\"${original.imgSrc}\" alt=\"\" />`;\r\n    celdas[5].setAttribute(\"data-foto\", \"1\");\r\n  } else {\r\n    celdas[5].innerHTML = \"\";\r\n    celdas[5].setAttribute(\"data-foto\", \"\");\r\n  }\r\n  celdas[6].innerText = original.info;\r\n  celdas[7].innerHTML = `\r\n    <div class=\"tabla-acciones\">\r\n      <button type=\"button\" class=\"boton-editar\" data-action=\"edit\">Editar</button>\r\n      <button type=\"button\" class=\"boton-eliminar\" data-action=\"delete\">Eliminar</button>\r\n    </div>`;\r\n  fila.dataset.original = \"\";\r\n  filtrarTabla();\r\n  ordenarTabla();\r\n  actualizarPaginacion();\r\n  hideEditToolbar();\n}\r\n\r\nfunction eliminarFila(button: HTMLButtonElement) {\r\n  if (!window.confirm(\"Â¿EstÃ¡s seguro de que deseas eliminar este recurso?\")) {\r\n    return;\r\n  }\r\n\r\n  const fila = button.closest(\"tr\");\r\n  const idText = fila?.cells?.[0]?.innerText ?? \"0\";\r\n  const id = Number.parseInt(idText, 10) || 0;\r\n  if (id) {\r\n    void apiDeleteItem(id);\r\n  }\r\n  fila?.remove();\r\n  persistInventario();\r\n  const arr = loadJSON<InventoryItem[]>(\r\n    INVENTORY_KEY,\r\n    snapshotInventarioDesdeTabla()\r\n  );\r\n  renderInventarioToDOM(arr);\r\n  filtrarTabla({ resetPage: false });\r\n  ordenarTabla();\r\n  actualizarPaginacion();\r\n}\r\n\r\nasync function agregarRecurso(event: SubmitEvent) {\r\n  event.preventDefault();\r\n\r\n  const recurso =\r\n    (document.getElementById(\"nuevoRecurso\") as HTMLInputElement | null)?.value.trim() ??\r\n    \"\";\r\n  const categoria =\r\n    (document.getElementById(\"nuevaCategoria\") as HTMLInputElement | null)?.value.trim() ??\r\n    \"\";\r\n  const cantidad = Number.parseInt(\r\n    (document.getElementById(\"nuevaCantidad\") as HTMLInputElement | null)?.value ||\r\n      \"0\",\r\n    10\r\n  );\r\n  const precio = Number.parseFloat(\r\n    (document.getElementById(\"nuevoPrecio\") as HTMLInputElement | null)?.value || \"0\"\r\n  );\r\n  const file = (document.getElementById(\"nuevaFoto\") as HTMLInputElement | null)\r\n    ?.files?.[0] ?? null;\r\n  const info =\r\n    (document.getElementById(\"nuevaInfo\") as HTMLInputElement | null)?.value.trim() ?? \"\";\r\n\r\n  if (!recurso || !categoria) return;\r\n\r\n  const arr = loadJSON<InventoryItem[]>(\r\n    INVENTORY_KEY,\r\n    snapshotInventarioDesdeTabla()\r\n  );\r\n  let fotoDataURL = \"\";\r\n  if (file) {\r\n    fotoDataURL = await readFileAsDataURL(file);\r\n  }\r\n\r\n  const payload = {\r\n    recurso,\r\n    categoria,\r\n    cantidad: Number.isNaN(cantidad) ? 0 : cantidad,\r\n    precio: Number.isNaN(precio) ? 0 : precio,\r\n    foto: fotoDataURL,\r\n    info,\r\n  } as Omit<InventoryItem, \"id\">;\r\n\r\n  const created = await apiCreateItem(payload);\r\n  const nuevo: InventoryItem = created ?? { id: nextIdFromStorage(), ...payload };\r\n\r\n  arr.push(nuevo);\r\n  saveJSON(INVENTORY_KEY, arr);\r\n  renderInventarioToDOM(arr);\r\n  syncDatalistsCategoria(categoria);\r\n\r\n  const form = document.getElementById(\"formAgregar\") as HTMLFormElement | null;\r\n  form?.reset();\r\n\r\n  const paginaPrev = paginaActual;\r\n  filtrarTabla({ resetPage: false });\r\n  ordenarTabla();\r\n  persistInventario();\r\n\r\n  const totalFiltradas = document.querySelectorAll(\r\n    \"#tablaRecursos tbody tr[data-match='1']\"\r\n  ).length;\r\n  const totalPaginas = Math.max(1, Math.ceil(totalFiltradas / filasPorPagina));\r\n  paginaActual = Math.min(paginaPrev, totalPaginas);\r\n  actualizarPaginacion();\r\n}\r\n\r\nfunction syncDatalistsCategoria(catNueva: string) {\r\n  if (!catNueva) return;\r\n  const dlForm = document.getElementById(\"categoriasFormulario\") as\r\n    | HTMLDataListElement\r\n    | null;\r\n  const dlFilt = document.getElementById(\"categorias\") as\r\n    | HTMLDataListElement\r\n    | null;\r\n\r\n  const normalized = catNueva.toLowerCase();\r\n\r\n  if (\r\n    dlForm &&\r\n    !Array.from(dlForm.options).some(\r\n      (option) => option.value.toLowerCase() === normalized\r\n    )\r\n  ) {\r\n    const opt = document.createElement(\"option\");\r\n    opt.value = catNueva;\r\n    dlForm.appendChild(opt);\r\n  }\r\n\r\n  if (\r\n    dlFilt &&\r\n    !Array.from(dlFilt.options).some(\r\n      (option) => option.value.toLowerCase() === normalized\r\n    )\r\n  ) {\r\n    const opt = document.createElement(\"option\");\r\n    opt.value = catNueva;\r\n    dlFilt.appendChild(opt);\r\n  }\r\n\r\n  const cats = loadJSON<string[]>(CATS_KEY, []);\r\n  if (!cats.some((cat) => cat.toLowerCase() === normalized)) {\r\n    cats.push(catNueva);\r\n    saveJSON(CATS_KEY, cats);\r\n  }\r\n}\r\n\r\nfunction toggleExportMenu() {\r\n  const menu = document.getElementById(\"exportMenu\");\r\n  if (!menu) return;\r\n  menu.classList.toggle(\"show\");\r\n  if (!menu.classList.contains(\"show\")) {\r\n    document\r\n      .querySelectorAll<HTMLElement>(\".submenu-content\")\r\n      .forEach((submenu) => submenu.classList.remove(\"show\"));\r\n  }\r\n}\r\n\r\nfunction toggleSubmenu(id: string) {\r\n  document.querySelectorAll<HTMLElement>(\".submenu-content\").forEach((submenu) => {\r\n    if (submenu.id !== id) submenu.classList.remove(\"show\");\r\n  });\r\n  const sub = document.getElementById(id);\r\n  sub?.classList.toggle(\"show\");\r\n}\r\n\r\nfunction closeAllMenus() {\r\n  document.getElementById(\"exportMenu\")?.classList.remove(\"show\");\r\n  document\r\n    .querySelectorAll<HTMLElement>(\".submenu-content\")\r\n    .forEach((submenu) => submenu.classList.remove(\"show\"));\r\n}\r\n\r\nfunction exportarCSV(opcion: \"visible\" | \"todo\") {\r\n  const filas = opcion === \"visible\" ? filasPaginaActual() : filasFiltradas();\r\n  const encabezados = encabezadosTabla();\r\n  const datos = datosDesdeFilas(filas);\r\n\r\n  const lineas: string[] = [];\r\n  lineas.push(encabezados.join(\",\"));\r\n  datos.forEach((arr) => {\r\n    const linea = arr.map((value) => `\"${String(value).replace(/\"/g, '\"\"')}\"`).join(\",\");\r\n    lineas.push(linea);\r\n  });\r\n\r\n  const blob = new Blob([lineas.join(\"\\n\")], { type: \"text/csv;charset=utf-8;\" });\r\n  const url = URL.createObjectURL(blob);\r\n  const a = document.createElement(\"a\");\r\n  a.href = url;\r\n  a.download = opcion === \"visible\" ? \"inventario_visible.csv\" : \"inventario_todo.csv\";\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\nfunction exportarExcel(opcion: \"visible\" | \"todo\") {\r\n  const filas = opcion === \"visible\" ? filasPaginaActual() : filasFiltradas();\r\n  const encabezados = encabezadosTabla();\r\n  const datos = [encabezados, ...datosDesdeFilas(filas)];\r\n  const xlsx = getXLSX();\r\n  if (!xlsx) {\r\n    console.warn(\"Biblioteca XLSX no disponible\");\r\n    return;\r\n  }\r\n  const ws = xlsx.utils.aoa_to_sheet(datos as unknown[][]);\r\n  const wb = xlsx.utils.book_new();\r\n  xlsx.utils.book_append_sheet(wb, ws, \"Inventario\");\r\n  xlsx.writeFile(\r\n    wb,\r\n    opcion === \"visible\" ? \"inventario_visible.xlsx\" : \"inventario_todo.xlsx\"\r\n  );\r\n}\r\n\r\nfunction filasFiltradas(): HTMLTableRowElement[] {\r\n  const tbody = document.querySelector<HTMLTableSectionElement>(\r\n    \"#tablaRecursos tbody\"\r\n  );\r\n  if (!tbody) return [];\r\n  return Array.from(tbody.querySelectorAll(\"tr\")).filter(\r\n    (tr) => tr.dataset.match === \"1\"\r\n  );\r\n}\r\n\r\nfunction filasPaginaActual(): HTMLTableRowElement[] {\r\n  const todas = filasFiltradas();\r\n  const inicio = (paginaActual - 1) * filasPorPagina;\r\n  const fin = inicio + filasPorPagina;\r\n  return todas.slice(inicio, fin);\r\n}\r\n\r\nfunction datosDesdeFilas(filas: HTMLTableRowElement[]) {\r\n  return filas.map((tr) => {\r\n    const tds = tr.querySelectorAll<HTMLTableCellElement>(\"td\");\r\n    const tieneFoto = Boolean(tds[5]?.querySelector(\"img\")?.src);\r\n    return [\r\n      tds[0]?.innerText ?? \"\",\r\n      tds[1]?.innerText ?? \"\",\r\n      tds[2]?.innerText ?? \"\",\r\n      tds[3]?.innerText ?? \"\",\r\n      tds[4]?.innerText ?? \"\",\r\n      tieneFoto ? \"sÃ­\" : \"no\",\r\n      tds[6]?.innerText ?? \"\",\r\n    ];\r\n  });\r\n}\r\n\r\nfunction encabezadosTabla() {\r\n  return [\"ID\", \"Recurso\", \"CategorÃ­a\", \"Cantidad\", \"Precio\", \"Foto\", \"InformaciÃ³n\"];\r\n}\r\n\r\nfunction actualizarPaginacion() {\r\n  const tbody = document.querySelector<HTMLTableSectionElement>(\r\n    \"#tablaRecursos tbody\"\r\n  );\r\n  if (!tbody) return;\r\n  const filas = Array.from(tbody.querySelectorAll(\"tr\"));\r\n  const filtradas = filas.filter((fila) => fila.dataset.match === \"1\");\r\n\r\n  const total = filtradas.length;\r\n  const totalPaginas = Math.max(1, Math.ceil(total / filasPorPagina));\r\n  if (paginaActual > totalPaginas) paginaActual = totalPaginas;\r\n  if (paginaActual < 1) paginaActual = 1;\r\n\r\n  filtradas.forEach((fila) => {\r\n    fila.style.display = \"none\";\r\n  });\r\n\r\n  const inicio = (paginaActual - 1) * filasPorPagina;\r\n  const fin = inicio + filasPorPagina;\r\n  filtradas.slice(inicio, fin).forEach((fila) => {\r\n    fila.style.display = \"\";\r\n  });\r\n\r\n  const info = document.getElementById(\"infoPagina\");\r\n  if (info) {\r\n    info.textContent = `PÃ¡gina ${paginaActual} de ${totalPaginas}`;\r\n  }\r\n\r\n  const btnAnterior = document.getElementById(\"btnAnterior\") as HTMLButtonElement | null;\r\n  const btnSiguiente = document.getElementById(\"btnSiguiente\") as\r\n    | HTMLButtonElement\r\n    | null;\r\n  if (btnAnterior) btnAnterior.disabled = paginaActual <= 1;\r\n  if (btnSiguiente) btnSiguiente.disabled = paginaActual >= totalPaginas;\r\n\r\n  persistInventario();\r\n}\r\n\r\nfunction cambiarPagina(direccion: number) {\r\n  paginaActual += direccion;\r\n  actualizarPaginacion();\r\n}\r\n\r\nfunction updateTheme(isDark: boolean) {\r\n  const body = document.body;\r\n  const label = document.getElementById(\"themeLabel\");\r\n  if (isDark) {\r\n    body.setAttribute(\"data-theme\", \"dark\");\r\n    localStorage.setItem(\"theme\", \"dark\");\r\n    if (label) label.textContent = \"Oscuro\";\r\n  } else {\r\n    body.removeAttribute(\"data-theme\");\r\n    localStorage.setItem(\"theme\", \"light\");\r\n    if (label) label.textContent = \"Claro\";\r\n  }\r\n}\r\n\r\nfunction applyStoredTheme() {\r\n  const saved = localStorage.getItem(\"theme\");\r\n  const body = document.body;\r\n  const toggle = document.getElementById(\"themeSwitch\") as HTMLInputElement | null;\r\n  const label = document.getElementById(\"themeLabel\");\r\n  // Default to dark theme if not set\r\n  if (!saved || saved === \"dark\") {\r\n    if (!saved) localStorage.setItem(\"theme\", \"dark\");\r\n    body.setAttribute(\"data-theme\", \"dark\");\r\n    if (toggle) toggle.checked = true;\r\n    if (label) label.textContent = \"Oscuro\";\r\n  } else {\r\n    body.removeAttribute(\"data-theme\");\r\n    if (toggle) toggle.checked = false;\r\n    if (label) label.textContent = \"Claro\";\r\n  }\r\n}\r\n\r\nfunction toggleEmptyState(show: boolean) {\r\n  const el = document.getElementById(\"emptyState\");\r\n  const tableWrap = document.querySelector<HTMLElement>(\".tabla-scroll\");\r\n  if (el) el.style.display = show ? \"block\" : \"none\";\r\n  if (tableWrap) tableWrap.style.display = show ? \"none\" : \"\";\r\n}\r\n\r\nfunction initCategoriasDesdeTablaYListas() {\r\n  const set = new Set<string>();\r\n  document.querySelectorAll<HTMLTableRowElement>(\"#tablaRecursos tbody tr\").forEach((tr) => {\r\n    const cat = tr.cells[2]?.innerText.trim();\r\n    if (cat) set.add(cat);\r\n  });\r\n\r\n  document.querySelectorAll<HTMLDataListElement>(\"#categorias option\").forEach((opt) => {\r\n    const value = opt.value.trim();\r\n    if (value) set.add(value);\r\n  });\r\n\r\n  document\r\n    .querySelectorAll<HTMLDataListElement>(\"#categoriasFormulario option\")\r\n    .forEach((opt) => {\r\n      const value = opt.value.trim();\r\n      if (value) set.add(value);\r\n    });\r\n\r\n  localStorage.setItem(CATS_KEY, JSON.stringify(Array.from(set)));\r\n}\r\n\r\nfunction aplicarPresetCategoria() {\r\n  const preset = localStorage.getItem(\"presetCategoria\");\r\n  if (!preset) return;\r\n  const input = document.getElementById(\"filtroCategoria\") as HTMLInputElement | null;\r\n  if (input) {\r\n    input.value = preset;\r\n    filtrarTabla({ resetPage: true });\r\n  }\r\n  localStorage.removeItem(\"presetCategoria\");\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction getCurrencyPrefs(){\r\n  try{\r\n    const curr = localStorage.getItem('ajustes_currency') || 'CLP';\r\n    const decimalsRaw = localStorage.getItem('ajustes_currency_decimals');\r\n    const decimals = decimalsRaw !== null ? parseInt(decimalsRaw,10) : (curr==='CLP'?0:2);\r\n    const locale = curr==='CLP' ? 'es-CL' : (curr==='EUR' ? 'es-ES' : 'en-US');\r\n    return { curr, decimals, locale };\r\n  }catch{ return { curr:'CLP', decimals:0, locale:'es-CL' }; }\r\n}\r\n\r\nfunction formatCurrency(value:number){\r\n  const { curr, decimals, locale } = getCurrencyPrefs();\r\n  try{\r\n    return new Intl.NumberFormat(locale,{style:'currency',currency:curr,maximumFractionDigits:decimals}).format(value||0);\r\n  }catch{\r\n    return String(value||0);\r\n  }\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1741, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/app/inventario/page.tsx"],"sourcesContent":["\"use client\";\r\nimport AppHeader from \"@/components/AppHeader\";\r\nimport AppFooter from \"@/components/AppFooter\";\r\n\r\n/* eslint-disable @next/next/no-img-element */\r\n\r\nimport { useEffect, useMemo } from \"react\";\r\nimport Script from \"next/script\";\r\nimport { useLanguage } from \"@/contexts/LanguageContext\";\r\n\r\nimport { AnimatedBackground } from \"../(auth)/login/components/AnimatedBackground\";\r\nimport { useBodyClass } from \"../(auth)/login/hooks/useBodyClass\";\r\nimport { initializeInventoryPage } from \"./interaction\";\r\nimport \"../(auth)/login/styles.css\";\r\nimport \"./styles.css\";\r\n\r\nexport default function InventoryPage() {\r\n  useBodyClass();\r\n  const { t } = useLanguage();\r\n  const apiBaseUrl = useMemo(() => {\r\n    const sanitize = (u: string) => u.replace(/\\/+$/, \"\");\r\n    const env = process.env.NEXT_PUBLIC_API_URL?.trim();\r\n    if (env) return sanitize(env);\r\n    if (typeof window !== \"undefined\") {\r\n      if (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\") {\r\n        return sanitize(\"http://localhost:8000\");\r\n      }\r\n      return sanitize(window.location.origin);\r\n    }\r\n    return \"\";\r\n  }, []);\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await fetch(`${apiBaseUrl}/api/logout/`, { method: \"POST\", credentials: \"include\" });\r\n    } catch {\r\n      // ignore\r\n    } finally {\r\n      window.location.href = \"/login\";\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (typeof document === \"undefined\") {\r\n      return () => {};\r\n    }\r\n    const cleanup = initializeInventoryPage();\r\n    return () => {\r\n      cleanup();\r\n    };\r\n  }, []);\r\n\r\n  // Agrega/quita la clase en <body> para estilos del inventario\r\n  useEffect(() => {\r\n    if (typeof document === \"undefined\") {\r\n      return () => {};\r\n    }\r\n    const inventoryClass = \"inventory-layout\";\r\n    document.body.classList.add(inventoryClass);\r\n    return () => {\r\n      document.body.classList.remove(inventoryClass);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Script\r\n        src=\"https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js\"\r\n        strategy=\"afterInteractive\"\r\n      />\r\n      <AnimatedBackground />\r\n\r\n      <div className=\"inventory-page\">\r\n        <AppHeader />\r\n        \r\n\r\n        <div className=\"inventory-shell\">\r\n          <main className=\"inventory-main\">\r\n            <section className=\"inventory-card\">\r\n              <div className=\"inventory-card__heading\">\r\n                <h2>{t.inventory.listTitle}</h2>\r\n                <p>{t.inventory.listDescription}</p>\r\n              </div>\r\n\r\n              <section className=\"inventory-section\">\r\n                <h3>{t.inventory.addNewResource}</h3>\r\n                <form id=\"formAgregar\" className=\"inventory-form\">\r\n                  <div className=\"form-grid\">\r\n                    <label className=\"visually-hidden\" htmlFor=\"nuevoRecurso\">\r\n                      {t.inventory.resourceName}\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"nuevoRecurso\"\r\n                      placeholder={t.inventory.resourceName}\r\n                      required\r\n                    />\r\n\r\n                    <label className=\"visually-hidden\" htmlFor=\"nuevaCategoria\">\r\n                      {t.inventory.category}\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"nuevaCategoria\"\r\n                      list=\"categoriasFormulario\"\r\n                      placeholder={t.inventory.category}\r\n                      required\r\n                    />\r\n                    <datalist id=\"categoriasFormulario\">\r\n                      <option value=\"Bombas de agua\" />\r\n                      <option value=\"Herramientas\" />\r\n                      <option value=\"Materiales elÃ©ctricos\" />\r\n                      <option value=\"Repuestos\" />\r\n                      <option value=\"Lubricantes\" />\r\n                    </datalist>\r\n\r\n                    <label className=\"visually-hidden\" htmlFor=\"nuevaCantidad\">\r\n                      {t.inventory.quantity}\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      id=\"nuevaCantidad\"\r\n                      placeholder={t.inventory.quantity}\r\n                      min=\"0\"\r\n                      step=\"1\"\r\n                      required\r\n                    />\r\n\r\n                    <label className=\"visually-hidden\" htmlFor=\"nuevoPrecio\">\r\n                      {t.inventory.price}\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      id=\"nuevoPrecio\"\r\n                      placeholder={t.inventory.price}\r\n                      min=\"0\"\r\n                      step=\"0.01\"\r\n                      required\r\n                    />\r\n\r\n                    <label className=\"visualmente-hidden\" htmlFor=\"nuevaFoto\">\r\n                      {t.inventory.photo}\r\n                    </label>\r\n                    <input type=\"file\" id=\"nuevaFoto\" accept=\"image/*\" />\r\n\r\n                    <label className=\"visually-hidden\" htmlFor=\"nuevaInfo\">\r\n                      {t.inventory.additionalInfo}\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"nuevaInfo\"\r\n                      placeholder={t.inventory.additionalInfo}\r\n                    />\r\n                  </div>\r\n\r\n                  <button type=\"submit\" className=\"boton-agregar\">\r\n                    {t.inventory.add}\r\n                  </button>\r\n                </form>\r\n              </section>\r\n\r\n              <section className=\"inventory-section\">\r\n                <h3>{t.inventory.filterAndSort}</h3>\r\n                <div id=\"filtros\" className=\"filters-panel\">\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"filtroIdRango\"\r\n                    className=\"filtro-input\"\r\n                    placeholder={t.inventory.idOrRange}\r\n                  />\r\n\r\n                  <div className=\"autocomplete-container\">\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"filtroRecurso\"\r\n                      className=\"filtro-input\"\r\n                      placeholder={t.inventory.filterByResource}\r\n                      autoComplete=\"off\"\r\n                    />\r\n                    <div id=\"sugerenciasRecurso\" className=\"autocomplete-box\" />\r\n                  </div>\r\n\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"filtroCategoria\"\r\n                    className=\"filtro-input\"\r\n                    list=\"categorias\"\r\n                    placeholder={t.inventory.filterByCategory}\r\n                  />\r\n                  <datalist id=\"categorias\">\r\n                    <option value=\"Bombas de agua\" />\r\n                    <option value=\"Herramientas\" />\r\n                    <option value=\"Materiales elÃ©ctricos\" />\r\n                    <option value=\"Repuestos\" />\r\n                    <option value=\"Lubricantes\" />\r\n                  </datalist>\r\n\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"filtroInfo\"\r\n                    className=\"filtro-input\"\r\n                    placeholder={t.inventory.filterByInfo}\r\n                  />\r\n\r\n                  <select id=\"ordenarPor\" className=\"filtro-input\" defaultValue=\"id-desc\">\r\n                    <option value=\"\">{t.inventory.sortBy}</option>\r\n                    <option value=\"id-asc\">ID â†‘</option>\r\n                    <option value=\"id-desc\">ID â†“</option>\r\n                    <option value=\"recurso-asc\">{t.home.resource} A-Z</option>\r\n                    <option value=\"recurso-desc\">{t.home.resource} Z-A</option>\r\n                    <option value=\"categoria-asc\">{t.inventory.category} A-Z</option>\r\n                    <option value=\"categoria-desc\">{t.inventory.category} Z-A</option>\r\n                    <option value=\"cantidad-asc\">{t.inventory.quantity} â†‘</option>\r\n                    <option value=\"cantidad-desc\">{t.inventory.quantity} â†“</option>\r\n                    <option value=\"precio-asc\">{t.inventory.price} â†‘</option>\r\n                    <option value=\"precio-desc\">{t.inventory.price} â†“</option>\r\n                  </select>\r\n\r\n                  <button type=\"button\" className=\"boton-limpiar\">\r\n                    {t.inventory.clearFilters}\r\n                  </button>\r\n\r\n                  <div className=\"exportar-dropdown\">\r\n                    <button type=\"button\" className=\"boton-exportar\">\r\n                      {t.inventory.export} â–¼\r\n                    </button>\r\n                    <div id=\"exportMenu\" className=\"dropdown-content\">\r\n                      <div className=\"submenu\">\r\n                        <button type=\"button\" className=\"submenu-btn\" data-submenu=\"excelSub\">\r\n                          Excel â–¸\r\n                        </button>\r\n                        <div id=\"excelSub\" className=\"submenu-content\">\r\n                          <a href=\"#\" data-export=\"excel-visible\">{t.inventory.visible}</a>\r\n                          <a href=\"#\" data-export=\"excel-todo\">{t.inventory.all}</a>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"submenu\">\r\n                        <button type=\"button\" className=\"submenu-btn\" data-submenu=\"csvSub\">\r\n                          CSV â–¸\r\n                        </button>\r\n                        <div id=\"csvSub\" className=\"submenu-content\">\r\n                          <a href=\"#\" data-export=\"csv-visible\">{t.inventory.visible}</a>\r\n                          <a href=\"#\" data-export=\"csv-todo\">{t.inventory.all}</a>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </section>\r\n\r\n              {/* Empty state placeholder for no results */}\r\n              <div id=\"emptyState\" className=\"empty-state\" aria-live=\"polite\" style={{ display: \"none\" }}>\r\n                <div className=\"empty-state__box\">\r\n                  <div className=\"empty-state__icon\" aria-hidden=\"true\">\r\n                    <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                      <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"url(#g)\" />\r\n                      <path d=\"M8 7h5l3 3v7a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm6 3h2l-2-2v2z\" fill=\"#fff\"/>\r\n                      <defs>\r\n                        <linearGradient id=\"g\" x1=\"0\" y1=\"0\" x2=\"24\" y2=\"24\" gradientUnits=\"userSpaceOnUse\">\r\n                          <stop stopColor=\"#2ad1ff\" />\r\n                          <stop offset=\"1\" stopColor=\"#6d78ff\" />\r\n                        </linearGradient>\r\n                      </defs>\r\n                    </svg>\r\n                  </div>\r\n                  <h4 className=\"empty-state__title\">{t.inventory.emptyStateTitle}</h4>\r\n                  <p className=\"empty-state__subtitle\">\r\n                    {t.inventory.emptyStateDescription}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"tabla-scroll\">\r\n                <table id=\"tablaRecursos\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>ID</th>\r\n                      <th>{t.home.resource}</th>\r\n                      <th>{t.inventory.category}</th>\r\n                      <th>{t.inventory.quantity}</th>\r\n                      <th>{t.inventory.price}</th>\r\n                      <th>{t.inventory.photo}</th>\r\n                      <th>{t.inventory.info}</th>\r\n                      <th>{t.common.actions}</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr data-match=\"1\">\r\n                      <td>1</td>\r\n                      <td>Bombas sumergibles 1HP</td>\r\n                      <td>Bombas de agua</td>\r\n                      <td>5</td>\r\n                      <td>120.00</td>\r\n                      <td data-foto=\"\"></td>\r\n                      <td>Equipo bÃ¡sico</td>\r\n                      <td>\r\n                        <div className=\"tabla-acciones\">\r\n                          <button type=\"button\" className=\"boton-editar\" data-action=\"edit\">{t.inventory.edit}</button>\r\n                          <button type=\"button\" className=\"boton-eliminar\" data-action=\"delete\">{t.inventory.delete}</button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                    <tr data-match=\"1\">\r\n                      <td>2</td>\r\n                      <td>Kit reparaciÃ³n rodamientos</td>\r\n                      <td>Repuestos</td>\r\n                      <td>2</td>\r\n                      <td>45.50</td>\r\n                      <td data-foto=\"\"></td>\r\n                      <td>Incluye grasa</td>\r\n                      <td>\r\n                        <div className=\"tabla-acciones\">\r\n                          <button type=\"button\" className=\"boton-editar\" data-action=\"edit\">{t.inventory.edit}</button>\r\n                          <button type=\"button\" className=\"boton-eliminar\" data-action=\"delete\">{t.inventory.delete}</button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              <div className=\"paginacion\">\r\n                <button type=\"button\" id=\"btnAnterior\">{t.inventory.previous}</button>\r\n                <span id=\"infoPagina\">{t.inventory.page} 1</span>\r\n                <button type=\"button\" id=\"btnSiguiente\">{t.inventory.next}</button>\r\n              </div>\r\n            </section>\r\n          </main>\r\n\r\n          <AppFooter />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}