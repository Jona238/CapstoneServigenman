{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/components/LanguageSelector.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useLanguage } from '@/contexts/LanguageContext'\r\n\r\nexport default function LanguageSelector() {\r\n  const { locale, setLocale, t } = useLanguage()\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-2 bg-white rounded-lg shadow-sm border border-gray-200 p-1\">\r\n      <button\r\n        onClick={() => setLocale('es')}\r\n        className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${\r\n          locale === 'es'\r\n            ? 'bg-blue-600 text-white shadow-sm'\r\n            : 'text-gray-700 hover:bg-gray-100'\r\n        }`}\r\n        title=\"EspaÃ±ol\"\r\n      >\r\n        <span className=\"text-lg\">ðŸ‡ªðŸ‡¸</span>\r\n        <span className=\"ml-2\">ES</span>\r\n      </button>\r\n      <button\r\n        onClick={() => setLocale('en')}\r\n        className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${\r\n          locale === 'en'\r\n            ? 'bg-blue-600 text-white shadow-sm'\r\n            : 'text-gray-700 hover:bg-gray-100'\r\n        }`}\r\n        title=\"English\"\r\n      >\r\n        <span className=\"text-lg\">ðŸ‡ºðŸ‡¸</span>\r\n        <span className=\"ml-2\">EN</span>\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,EAAE,GAAG,IAAA,kJAAW;IAE5C,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBACC,SAAS,IAAM,UAAU;gBACzB,WAAW,CAAC,wDAAwD,EAClE,WAAW,OACP,qCACA,mCACJ;gBACF,OAAM;;kCAEN,8OAAC;wBAAK,WAAU;kCAAU;;;;;;kCAC1B,8OAAC;wBAAK,WAAU;kCAAO;;;;;;;;;;;;0BAEzB,8OAAC;gBACC,SAAS,IAAM,UAAU;gBACzB,WAAW,CAAC,wDAAwD,EAClE,WAAW,OACP,qCACA,mCACJ;gBACF,OAAM;;kCAEN,8OAAC;wBAAK,WAAU;kCAAU;;;;;;kCAC1B,8OAAC;wBAAK,WAAU;kCAAO;;;;;;;;;;;;;;;;;;AAI/B","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/components/AppHeader.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useEffect, useMemo, useState } from \"react\";\nimport LanguageSelector from \"./LanguageSelector\";\r\nimport { useLanguage } from \"@/contexts/LanguageContext\";\r\n\r\nexport default function AppHeader() {\n  const { t } = useLanguage();\n  const [isDeveloper, setIsDeveloper] = useState(false);\n  const apiBaseUrl = useMemo(() => {\r\n    const sanitize = (u: string) => u.replace(/\\/+$/, \"\");\r\n    const env = process.env.NEXT_PUBLIC_API_URL?.trim() || process.env.NEXT_PUBLIC_BACKEND_URL?.trim();\r\n    if (env) return sanitize(env);\r\n    if (typeof window !== \"undefined\") {\r\n      if (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\") {\r\n        return sanitize(\"http://localhost:8000\");\r\n      }\r\n      return sanitize(window.location.origin);\r\n    }\r\n    return \"\";\r\n  }, []);\r\n\r\n  const handleLogout = async () => {\n    try {\n      await fetch(`${apiBaseUrl}/api/logout/`, { method: \"POST\", credentials: \"include\" });\n    } catch {\n      // ignore network errors\n    } finally {\n      try { document.cookie = \"auth_ok=; Max-Age=0; path=/\"; } catch {}\n      window.location.href = \"/login\";\n    }\n  };\n\r\n  // Theme switch (shared across pages)\n  useEffect(() => {\n    if (typeof document === \"undefined\") return;\r\n    const body = document.body;\r\n    const toggle = document.getElementById(\"themeSwitch\") as HTMLInputElement | null;\r\n    const label = document.getElementById(\"themeLabel\");\r\n    const root = document.documentElement;\r\n\r\n    const apply = (dark: boolean) => {\r\n      if (dark) {\r\n        body.setAttribute(\"data-theme\", \"dark\");\r\n        try { localStorage.setItem(\"theme\", \"dark\"); } catch {}\r\n        if (toggle) toggle.checked = true;\r\n        if (label) label.textContent = t.common.dark;\r\n      } else {\r\n        body.removeAttribute(\"data-theme\");\r\n        try { localStorage.setItem(\"theme\", \"light\"); } catch {}\r\n        if (toggle) toggle.checked = false;\r\n        if (label) label.textContent = t.common.light;\r\n      }\r\n    };\r\n\r\n    // default to dark if not set\r\n    const saved = ((): string | null => {\r\n      try { return localStorage.getItem(\"theme\"); } catch { return null; }\r\n    })();\r\n    apply(!saved || saved === \"dark\");\r\n\r\n    // Apply font scale if present\r\n    try {\r\n      const fs = localStorage.getItem(\"ajustes_font_scale\");\r\n      if (fs) root.setAttribute(\"data-font-scale\", fs);\r\n    } catch {}\r\n\r\n    if (toggle) {\r\n      const onChange = () => apply(toggle.checked);\r\n      toggle.addEventListener(\"change\", onChange);\r\n      return () => toggle.removeEventListener(\"change\", onChange);\r\n    }\r\n    return () => {};\r\n  }, []);\n\n  // Load current user role to conditionally render Papelera link\n  useEffect(() => {\n    let aborted = false;\n    async function load() {\n      try {\n        const res = await fetch(`${apiBaseUrl}/api/me/`, { credentials: \"include\" });\n        if (!res.ok) return;\n        const data = await res.json();\n        if (!aborted) setIsDeveloper(Boolean(data?.user?.is_developer));\n      } catch {}\n    }\n    if (apiBaseUrl) void load();\n    return () => { aborted = true; };\n  }, [apiBaseUrl]);\n\r\n  return (\r\n    <header className=\"inventory-header\">\r\n      <div className=\"inventory-header__inner\">\r\n        <div className=\"header-bar\">\r\n          <h1>{t.header.title}</h1>\r\n          <div className=\"header-actions\" style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n            <LanguageSelector />\r\n            <input type=\"checkbox\" id=\"themeSwitch\" hidden />\r\n            <label htmlFor=\"themeSwitch\" className=\"switch\" aria-label={t.common.theme} />\r\n            <span id=\"themeLabel\" className=\"theme-label\">{t.common.light}</span>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleLogout}\r\n              style={{\r\n                padding: \"8px 12px\",\r\n                borderRadius: 10,\r\n                border: \"1px solid rgba(255,255,255,.12)\",\r\n                background: \"linear-gradient(90deg,#7b5cff,#26c4ff)\",\r\n                color: \"#fff\",\r\n                fontWeight: 700,\r\n                cursor: \"pointer\",\r\n              }}\r\n              aria-label={t.common.logout}\r\n              title={t.common.logout}\r\n            >\r\n              {t.common.logout}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <nav>\r\n          <ul>\n            <li><Link href=\"/inicio\">{t.common.home}</Link></li>\n            <li><Link href=\"/inventario\">{t.common.inventory}</Link></li>\n            {isDeveloper && (<li><Link href=\"/inventario/papelera\">Papelera</Link></li>)}\n            <li><Link href=\"/categorias\">{t.common.categories}</Link></li>\n            <li><Link href=\"/presupuesto\">{t.common.budget}</Link></li>\n            <li><Link href=\"/ajustes\">{t.common.settings}</Link></li>\n          </ul>\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 408, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/app/%28auth%29/login/components/AnimatedBackground.tsx"],"sourcesContent":["export function AnimatedBackground() {\r\n  return (\r\n    <>\r\n      <div className=\"waves\" aria-hidden=\"true\">\r\n        <svg className=\"waves-svg\" viewBox=\"0 0 1440 900\" preserveAspectRatio=\"none\">\r\n          <defs>\r\n            <linearGradient id=\"gA\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n              <stop offset=\"0%\" stopColor=\"var(--wave-a)\" />\r\n              <stop offset=\"100%\" stopColor=\"var(--wave-b)\" />\r\n            </linearGradient>\r\n            <linearGradient id=\"gB\" x1=\"100%\" y1=\"0%\" x2=\"0%\" y2=\"0%\">\r\n              <stop offset=\"0%\" stopColor=\"var(--wave-b)\" />\r\n              <stop offset=\"100%\" stopColor=\"var(--wave-a)\" />\r\n            </linearGradient>\r\n          </defs>\r\n          <path\r\n            className=\"wave slow\"\r\n            stroke=\"url(#gA)\"\r\n            d=\"M0,130 C180,110 300,85 520,95 C740,105 900,145 1080,135 C1260,125 1360,100 1440,110\"\r\n          />\r\n          <path\r\n            className=\"wave mid\"\r\n            stroke=\"url(#gB)\"\r\n            d=\"M0,450 C220,430 360,410 580,420 C800,430 980,470 1140,460 C1300,450 1380,420 1440,430\"\r\n          />\r\n          <path\r\n            className=\"wave\"\r\n            stroke=\"url(#gA)\"\r\n            d=\"M0,760 C200,740 340,740 560,740 C780,740 960,770 1120,760 C1280,750 1380,730 1440,740\"\r\n          />\r\n        </svg>\r\n      </div>\r\n\r\n      <div className=\"circuit\" aria-hidden=\"true\">\r\n        <svg viewBox=\"0 0 1440 900\" preserveAspectRatio=\"none\">\r\n          <path className=\"trace\" d=\"M80 160 H360 L520 260 H780 L980 200 H1320\" />\r\n          <circle className=\"node\" cx=\"360\" cy=\"160\" r=\"3\" />\r\n          <circle className=\"node\" cx=\"520\" cy=\"260\" r=\"3\" />\r\n          <circle className=\"node\" cx=\"980\" cy=\"200\" r=\"3\" />\r\n          <path className=\"trace\" d=\"M120 620 H400 L540 540 L740 560 L980 520 L1300 560\" />\r\n          <circle className=\"node\" cx=\"400\" cy=\"620\" r=\"3\" />\r\n          <circle className=\"node\" cx=\"740\" cy=\"560\" r=\"3\" />\r\n          <path className=\"trace\" d=\"M100 360 L260 360 L420 300 L700 300 L860 360 L1120 340 L1340 380\" />\r\n          <circle className=\"node\" cx=\"260\" cy=\"360\" r=\"3\" />\r\n          <circle className=\"node\" cx=\"700\" cy=\"300\" r=\"3\" />\r\n          <circle className=\"node\" cx=\"1120\" cy=\"340\" r=\"3\" />\r\n        </svg>\r\n      </div>\r\n\r\n      <div className=\"noise\" aria-hidden=\"true\" />\r\n\r\n      <div className=\"rays\" id=\"rays\" aria-hidden=\"true\" />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAO,SAAS;IACd,qBACE;;0BACE,8OAAC;gBAAI,WAAU;gBAAQ,eAAY;0BACjC,cAAA,8OAAC;oBAAI,WAAU;oBAAY,SAAQ;oBAAe,qBAAoB;;sCACpE,8OAAC;;8CACC,8OAAC;oCAAe,IAAG;oCAAK,IAAG;oCAAK,IAAG;oCAAK,IAAG;oCAAO,IAAG;;sDACnD,8OAAC;4CAAK,QAAO;4CAAK,WAAU;;;;;;sDAC5B,8OAAC;4CAAK,QAAO;4CAAO,WAAU;;;;;;;;;;;;8CAEhC,8OAAC;oCAAe,IAAG;oCAAK,IAAG;oCAAO,IAAG;oCAAK,IAAG;oCAAK,IAAG;;sDACnD,8OAAC;4CAAK,QAAO;4CAAK,WAAU;;;;;;sDAC5B,8OAAC;4CAAK,QAAO;4CAAO,WAAU;;;;;;;;;;;;;;;;;;sCAGlC,8OAAC;4BACC,WAAU;4BACV,QAAO;4BACP,GAAE;;;;;;sCAEJ,8OAAC;4BACC,WAAU;4BACV,QAAO;4BACP,GAAE;;;;;;sCAEJ,8OAAC;4BACC,WAAU;4BACV,QAAO;4BACP,GAAE;;;;;;;;;;;;;;;;;0BAKR,8OAAC;gBAAI,WAAU;gBAAU,eAAY;0BACnC,cAAA,8OAAC;oBAAI,SAAQ;oBAAe,qBAAoB;;sCAC9C,8OAAC;4BAAK,WAAU;4BAAQ,GAAE;;;;;;sCAC1B,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAK,WAAU;4BAAQ,GAAE;;;;;;sCAC1B,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAK,WAAU;4BAAQ,GAAE;;;;;;sCAC1B,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAM,IAAG;4BAAM,GAAE;;;;;;sCAC7C,8OAAC;4BAAO,WAAU;4BAAO,IAAG;4BAAO,IAAG;4BAAM,GAAE;;;;;;;;;;;;;;;;;0BAIlD,8OAAC;gBAAI,WAAU;gBAAQ,eAAY;;;;;;0BAEnC,8OAAC;gBAAI,WAAU;gBAAO,IAAG;gBAAO,eAAY;;;;;;;;AAGlD","debugId":null}},
    {"offset": {"line": 675, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/app/%28auth%29/login/hooks/useBodyClass.ts"],"sourcesContent":["import { useEffect } from \"react\";\r\n\r\nexport function useBodyClass() {\r\n  useEffect(() => {\r\n    if (typeof document === \"undefined\") {\r\n      return;\r\n    }\r\n\r\n    const bodyClass = \"servigenman-login\";\r\n    const htmlClass = \"servigenman-login-root\";\r\n\r\n    document.body.classList.add(bodyClass);\r\n    document.documentElement.classList.add(htmlClass);\r\n\r\n    return () => {\r\n      document.body.classList.remove(bodyClass);\r\n      document.documentElement.classList.remove(htmlClass);\r\n    };\r\n  }, []);\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS;IACd,IAAA,kNAAS,EAAC;QACR,IAAI,OAAO,aAAa,aAAa;YACnC;QACF;QAEA,MAAM,YAAY;QAClB,MAAM,YAAY;QAElB,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;QAC5B,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QAEvC,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC/B,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;QAC5C;IACF,GAAG,EAAE;AACP","debugId":null}},
    {"offset": {"line": 700, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/app/categorias/interaction.ts"],"sourcesContent":["type InventoryItem = {\r\n  id: number;\r\n  recurso: string;\r\n  categoria: string;\r\n  cantidad: number;\r\n  precio: number;\r\n  foto: string;\r\n  info: string;\r\n};\r\n\r\ntype CleanupFn = () => void;\r\n\r\ntype CategorySummary = {\r\n  name: string;\r\n  resourceCount: number;\r\n  totalQuantity: number;\r\n  totalValue: number;\r\n  topResource?: string;\r\n};\r\n\r\ntype CarouselControl = {\r\n  cleanup: CleanupFn;\r\n  refresh: () => void;\r\n};\r\n\r\nconst INVENTORY_KEY = \"inventarioData\";\r\nconst CATS_KEY = \"categoriasInventario\";\r\n\r\nexport function initializeCategoriesPage(): CleanupFn {\r\n  if (typeof document === \"undefined\") {\r\n    return () => {};\r\n  }\r\n\r\n  const cleanupFns: CleanupFn[] = [];\r\n  const carouselControls = Array.from(\r\n    document.querySelectorAll<HTMLElement>(\".category-carousel\")\r\n  ).map(setupCarousel);\r\n\r\n  cleanupFns.push(\r\n    ...carouselControls.map((control) => control.cleanup),\r\n    setupThemeToggle(),\r\n    setupStorageSync(() => renderCategories(carouselControls)),\r\n    setupFocusSync(() => renderCategories(carouselControls))\r\n  );\r\n\r\n  renderCategories(carouselControls);\r\n\r\n  return () => {\r\n    cleanupFns.forEach((fn) => fn());\r\n  };\r\n}\r\n\r\nfunction setupThemeToggle(): CleanupFn {\r\n  const toggle = document.getElementById(\"themeSwitch\") as HTMLInputElement | null;\r\n  const handler = () => updateTheme(Boolean(toggle?.checked));\r\n  toggle?.addEventListener(\"change\", handler);\r\n  applyStoredTheme();\r\n  return () => {\r\n    toggle?.removeEventListener(\"change\", handler);\r\n  };\r\n}\r\n\r\nfunction setupStorageSync(refresh: () => void): CleanupFn {\r\n  const handler = (event: StorageEvent) => {\r\n    if (!event.key || [INVENTORY_KEY, CATS_KEY, \"theme\", \"ajustes_currency\", \"ajustes_currency_decimals\"].includes(event.key)) {\r\n      refresh();\r\n      if (!event.key || event.key === \"theme\") {\r\n        applyStoredTheme();\r\n      }\r\n    }\r\n  };\r\n  window.addEventListener(\"storage\", handler);\r\n  return () => window.removeEventListener(\"storage\", handler);\r\n}\r\n\r\nfunction setupFocusSync(refresh: () => void): CleanupFn {\r\n  const handler = () => refresh();\r\n  window.addEventListener(\"focus\", handler);\r\n  return () => window.removeEventListener(\"focus\", handler);\r\n}\r\n\r\nfunction renderCategories(controls: CarouselControl[]) {\r\n  const inventory = loadJSON<InventoryItem[]>(INVENTORY_KEY, []);\r\n  const storedCategories = loadJSON<string[]>(CATS_KEY, []);\r\n  const categories = buildCategorySummaries(inventory, storedCategories);\r\n  persistCategoryNames(categories.map((category) => category.name));\r\n\r\n  const topRow = categories.slice(0, Math.ceil(categories.length / 2));\r\n  const bottomRow = categories.slice(Math.ceil(categories.length / 2));\r\n\r\n  const topTrack = document.querySelector<HTMLElement>(\r\n    '.category-carousel[data-row=\"top\"] .category-track'\r\n  );\r\n  const bottomTrack = document.querySelector<HTMLElement>(\r\n    '.category-carousel[data-row=\"bottom\"] .category-track'\r\n  );\r\n\r\n  if (topTrack) {\r\n    fillTrack(topTrack, topRow);\r\n  }\r\n  if (bottomTrack) {\r\n    fillTrack(bottomTrack, bottomRow);\r\n  }\r\n\r\n  const emptyState = document.getElementById(\"categoriesEmptyState\");\r\n  const isEmpty = categories.length === 0;\r\n  if (emptyState) {\r\n    emptyState.hidden = !isEmpty;\r\n  }\r\n\r\n  const carousels = document.querySelectorAll<HTMLElement>(\".category-carousel\");\r\n  carousels.forEach((carousel) => {\r\n    if (isEmpty) {\r\n      carousel.classList.add(\"is-empty\");\r\n    } else {\r\n      carousel.classList.remove(\"is-empty\");\r\n    }\r\n  });\r\n\r\n  requestAnimationFrame(() => {\r\n    controls.forEach((control) => control.refresh());\r\n  });\r\n}\r\n\r\nfunction fillTrack(track: HTMLElement, categories: CategorySummary[]) {\r\n  track.innerHTML = \"\";\r\n  if (!categories.length) {\r\n    const placeholder = document.createElement(\"div\");\r\n    placeholder.className = \"category-track__placeholder\";\r\n    placeholder.textContent = \"No hay categorÃ­as en esta fila\";\r\n    track.appendChild(placeholder);\r\n    return;\r\n  }\r\n\r\n  categories.forEach((category) => {\r\n    track.appendChild(createCategoryCard(category));\r\n  });\r\n}\r\n\r\nfunction createCategoryCard(category: CategorySummary) {\r\n  const card = document.createElement(\"article\");\r\n  card.className = \"category-card\";\r\n  card.tabIndex = 0;\r\n  card.dataset.category = category.name;\r\n\r\n  // Get currency preferences from localStorage\r\n  const curr = localStorage.getItem('ajustes_currency') || 'CLP';\r\n  const decimalsRaw = localStorage.getItem('ajustes_currency_decimals');\r\n  const decimals = decimalsRaw !== null ? parseInt(decimalsRaw, 10) : (curr === 'CLP' ? 0 : 2);\r\n  const locale = curr === 'CLP' ? 'es-CL' : (curr === 'EUR' ? 'de-DE' : 'en-US');\r\n\r\n  const quantityFormatter = new Intl.NumberFormat(locale);\r\n  const currencyFormatter = new Intl.NumberFormat(locale, {\r\n    style: \"currency\",\r\n    currency: curr,\r\n    maximumFractionDigits: decimals,\r\n    minimumFractionDigits: decimals,\r\n  });\r\n\r\n  card.innerHTML = `\r\n    <header class=\"category-card__header\">\r\n      <h4>${category.name}</h4>\r\n      <span class=\"category-card__chip\">${category.resourceCount} recursos</span>\r\n    </header>\r\n    <dl class=\"category-card__stats\">\r\n      <div>\r\n        <dt>Total de unidades</dt>\r\n        <dd>${quantityFormatter.format(category.totalQuantity)}</dd>\r\n      </div>\r\n      <div>\r\n        <dt>Valor estimado</dt>\r\n        <dd>${currencyFormatter.format(category.totalValue)}</dd>\r\n      </div>\r\n      <div>\r\n        <dt>Recurso destacado</dt>\r\n        <dd>${category.topResource ?? \"Sin especificar\"}</dd>\r\n      </div>\r\n    </dl>\r\n    <footer class=\"category-card__footer\">\r\n      <span>Ver recursos</span>\r\n      <span aria-hidden=\"true\" class=\"category-card__arrow\">â†’</span>\r\n    </footer>\r\n  `;\r\n\r\n  const navigate = () => {\r\n    if (typeof window === \"undefined\") return;\r\n    window.localStorage.setItem(\"presetCategoria\", category.name);\r\n    window.location.href = \"/inventario\";\r\n  };\r\n\r\n  card.addEventListener(\"click\", navigate);\r\n  card.addEventListener(\"keydown\", (event) => {\r\n    const key = (event as KeyboardEvent).key;\r\n    if (key === \"Enter\" || key === \" \" || key === \"Spacebar\") {\r\n      event.preventDefault();\r\n      navigate();\r\n    }\r\n  });\r\n\r\n  return card;\r\n}\r\n\r\nfunction setupCarousel(carousel: HTMLElement): CarouselControl {\r\n  const track = carousel.querySelector<HTMLElement>(\".category-track\");\r\n  const prev = carousel.querySelector<HTMLButtonElement>(\".cat-nav.prev\");\r\n  const next = carousel.querySelector<HTMLButtonElement>(\".cat-nav.next\");\r\n\r\n  if (!track || !prev || !next) {\r\n    return {\r\n      cleanup: () => {},\r\n      refresh: () => {},\r\n    };\r\n  }\r\n\r\n  const step = () => Math.max(track.clientWidth * 0.8, 200);\r\n\r\n  const scrollPrev = () => {\r\n    track.scrollBy({ left: -step(), behavior: \"smooth\" });\r\n  };\r\n\r\n  const scrollNext = () => {\r\n    track.scrollBy({ left: step(), behavior: \"smooth\" });\r\n  };\r\n\r\n  const updateControls = () => {\r\n    const { scrollLeft, scrollWidth, clientWidth } = track;\r\n    const maxScrollLeft = Math.max(0, scrollWidth - clientWidth - 1);\r\n    const hideButtons = scrollWidth <= clientWidth + 1;\r\n\r\n    prev.disabled = scrollLeft <= 0;\r\n    next.disabled = scrollLeft >= maxScrollLeft;\r\n\r\n    prev.classList.toggle(\"is-hidden\", hideButtons);\r\n    next.classList.toggle(\"is-hidden\", hideButtons);\r\n  };\r\n\r\n  prev.addEventListener(\"click\", scrollPrev);\r\n  next.addEventListener(\"click\", scrollNext);\r\n  track.addEventListener(\"scroll\", updateControls);\r\n  window.addEventListener(\"resize\", updateControls);\r\n\r\n  return {\r\n    cleanup: () => {\r\n      prev.removeEventListener(\"click\", scrollPrev);\r\n      next.removeEventListener(\"click\", scrollNext);\r\n      track.removeEventListener(\"scroll\", updateControls);\r\n      window.removeEventListener(\"resize\", updateControls);\r\n    },\r\n    refresh: () => {\r\n      updateControls();\r\n    },\r\n  };\r\n}\r\n\r\nfunction buildCategorySummaries(\r\n  inventory: InventoryItem[],\r\n  storedCategories: string[]\r\n): CategorySummary[] {\r\n  const normalizedCategories = new Map<string, string>();\r\n\r\n  const addCategory = (raw?: string) => {\r\n    const value = raw?.trim();\r\n    if (!value) return;\r\n    const key = value.toLowerCase();\r\n    if (!normalizedCategories.has(key)) {\r\n      normalizedCategories.set(key, value);\r\n    }\r\n  };\r\n\r\n  storedCategories.forEach((name) => addCategory(name));\r\n  inventory.forEach((item) => addCategory(item.categoria));\r\n\r\n  const categories = Array.from(normalizedCategories.values()).sort((a, b) =>\r\n    a.localeCompare(b, \"es\", { sensitivity: \"base\" })\r\n  );\r\n\r\n  return categories.map((name) => summarizeCategory(name, inventory));\r\n}\r\n\r\nfunction summarizeCategory(name: string, inventory: InventoryItem[]): CategorySummary {\r\n  const normalized = name.trim().toLowerCase();\r\n  const items = inventory.filter((item) => {\r\n    const categoryName = item.categoria?.trim().toLowerCase();\r\n    return categoryName === normalized;\r\n  });\r\n\r\n  const resourceCount = items.length;\r\n  const totalQuantity = items.reduce((acc, item) => acc + (item.cantidad ?? 0), 0);\r\n  const totalValue = items.reduce(\r\n    (acc, item) => acc + (item.cantidad ?? 0) * (item.precio ?? 0),\r\n    0\r\n  );\r\n\r\n  const topResource = items\r\n    .slice()\r\n    .sort((a, b) => (b.cantidad ?? 0) - (a.cantidad ?? 0))[0]?.recurso;\r\n\r\n  return {\r\n    name,\r\n    resourceCount,\r\n    totalQuantity,\r\n    totalValue,\r\n    topResource,\r\n  };\r\n}\r\n\r\nfunction loadJSON<T>(key: string, fallback: T): T {\r\n  try {\r\n    if (typeof window === \"undefined\") {\r\n      return fallback;\r\n    }\r\n    const raw = window.localStorage.getItem(key);\r\n    if (!raw) return fallback;\r\n    return JSON.parse(raw) as T;\r\n  } catch (error) {\r\n    console.warn(\"Error leyendo almacenamiento\", error);\r\n    return fallback;\r\n  }\r\n}\r\n\r\nfunction updateTheme(isDark: boolean) {\r\n  const body = document.body;\r\n  const label = document.getElementById(\"themeLabel\");\r\n  if (isDark) {\r\n    body.setAttribute(\"data-theme\", \"dark\");\r\n    window.localStorage.setItem(\"theme\", \"dark\");\r\n    if (label) label.textContent = \"Oscuro\";\r\n  } else {\r\n    body.removeAttribute(\"data-theme\");\r\n    window.localStorage.setItem(\"theme\", \"light\");\r\n    if (label) label.textContent = \"Claro\";\r\n  }\r\n}\r\n\r\nfunction applyStoredTheme() {\r\n  const saved = window.localStorage.getItem(\"theme\");\r\n  const toggle = document.getElementById(\"themeSwitch\") as HTMLInputElement | null;\r\n  const label = document.getElementById(\"themeLabel\");\r\n  if (saved === \"dark\") {\r\n    document.body.setAttribute(\"data-theme\", \"dark\");\r\n    if (toggle) toggle.checked = true;\r\n    if (label) label.textContent = \"Oscuro\";\r\n  } else {\r\n    document.body.removeAttribute(\"data-theme\");\r\n    if (toggle) toggle.checked = false;\r\n    if (label) label.textContent = \"Claro\";\r\n  }\r\n}\r\n\r\nfunction persistCategoryNames(names: string[]) {\r\n  try {\r\n    if (typeof window === \"undefined\") {\r\n      return;\r\n    }\r\n    window.localStorage.setItem(CATS_KEY, JSON.stringify(names));\r\n  } catch (error) {\r\n    console.warn(\"No fue posible guardar las categorÃ­as\", error);\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 989, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jonat/Documents/CapstoneServigenman/FASE%202/Evidencias%20de%20Proyecto/frontend/src/app/categorias/page.tsx"],"sourcesContent":["\"use client\";\r\nimport AppHeader from \"@/components/AppHeader\";\r\nimport AppFooter from \"@/components/AppFooter\";\r\n\r\nimport { useEffect, useMemo } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useLanguage } from \"@/contexts/LanguageContext\";\r\n\r\nimport { AnimatedBackground } from \"../(auth)/login/components/AnimatedBackground\";\r\nimport { useBodyClass } from \"../(auth)/login/hooks/useBodyClass\";\r\nimport { initializeCategoriesPage } from \"./interaction\";\r\nimport \"../(auth)/login/styles.css\";\r\nimport \"../inventario/styles.css\";\r\nimport \"./styles.css\";\r\n\r\nexport default function CategoriesPage() {\r\n  useBodyClass();\r\n  const { t } = useLanguage();\r\n  const apiBaseUrl = useMemo(() => {\r\n    const sanitize = (u: string) => u.replace(/\\/+$/, \"\");\r\n    const env = process.env.NEXT_PUBLIC_API_URL?.trim();\r\n    if (env) return sanitize(env);\r\n    if (typeof window !== \"undefined\") {\r\n      if (window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\") {\r\n        return sanitize(\"http://localhost:8000\");\r\n      }\r\n      return sanitize(window.location.origin);\r\n    }\r\n    return \"\";\r\n  }, []);\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await fetch(`${apiBaseUrl}/api/logout/`, { method: \"POST\", credentials: \"include\" });\r\n    } catch {\r\n      // ignore\r\n    } finally {\r\n      window.location.href = \"/login\";\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (typeof document === \"undefined\") {\r\n      return;\r\n    }\r\n    const cleanup = initializeCategoriesPage();\r\n    return () => {\r\n      cleanup();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (typeof document === \"undefined\") {\r\n      return;\r\n    }\r\n    const layoutClass = \"inventory-layout\";\r\n    document.body.classList.add(layoutClass);\r\n    return () => {\r\n      document.body.classList.remove(layoutClass);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <AnimatedBackground />\r\n      <div className=\"categories-page\">\r\n        <AppHeader />\r\n        \r\n\r\n        <div className=\"categories-shell\">\r\n          <main className=\"categories-main\">\r\n            <section className=\"categories-hero\">\r\n              <div>\r\n                <h2>{t.categories.title}</h2>\r\n                <p>\r\n                  {t.categories.description}\r\n                </p>\r\n              </div>\r\n              <p className=\"categories-hero__hint\">\r\n                {t.categories.hint}\r\n              </p>\r\n            </section>\r\n\r\n            <section className=\"categories-section\">\r\n              <header className=\"categories-section__header\">\r\n                <h3>{t.categories.exploreTitle}</h3>\r\n                <p>\r\n                  {t.categories.exploreDescription}\r\n                </p>\r\n              </header>\r\n\r\n              <div className=\"category-carousel\" data-row=\"top\">\r\n                <button className=\"cat-nav prev\" aria-label={t.categories.previous}>\r\n                  â€¹\r\n                </button>\r\n                <div className=\"category-track\" />\r\n                <button className=\"cat-nav next\" aria-label={t.categories.next}>\r\n                  â€º\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"category-carousel\" data-row=\"bottom\">\r\n                <button className=\"cat-nav prev\" aria-label={t.categories.previous}>\r\n                  â€¹\r\n                </button>\r\n                <div className=\"category-track\" />\r\n                <button className=\"cat-nav next\" aria-label={t.categories.next}>\r\n                  â€º\r\n                </button>\r\n              </div>\r\n\r\n              <p id=\"categoriesEmptyState\" className=\"categories-empty\" hidden>\r\n                {t.categories.emptyState}\r\n              </p>\r\n            </section>\r\n          </main>\r\n\r\n          <footer className=\"categories-footer\">\r\n            <p>{t.categories.footer}</p>\r\n          </footer>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;;AACA;AAGA;AAEA;AAEA;AACA;AACA;AAVA;;;;;;;;;;;AAee,SAAS;IACtB,IAAA,wKAAY;IACZ,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,kJAAW;IACzB,MAAM,aAAa,IAAA,gNAAO,EAAC;QACzB,MAAM,WAAW,CAAC,IAAc,EAAE,OAAO,CAAC,QAAQ;QAClD,MAAM,iEAAuC;QAC7C,IAAI,KAAK,OAAO,SAAS;QACzB;;QAMA,OAAO;IACT,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,MAAM,GAAG,WAAW,YAAY,CAAC,EAAE;gBAAE,QAAQ;gBAAQ,aAAa;YAAU;QACpF,EAAE,OAAM;QACN,SAAS;QACX,SAAU;YACR,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB;IACF;IAEA,IAAA,kNAAS,EAAC;QACR,IAAI,OAAO,aAAa,aAAa;YACnC;QACF;QACA,MAAM,UAAU,IAAA,mKAAwB;QACxC,OAAO;YACL;QACF;IACF,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI,OAAO,aAAa,aAAa;YACnC;QACF;QACA,MAAM,cAAc;QACpB,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;QAC5B,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;QACjC;IACF,GAAG,EAAE;IAEL,qBACE;;0BACE,8OAAC,0LAAkB;;;;;0BACnB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,0IAAS;;;;;kCAGV,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;;kDACd,8OAAC;wCAAQ,WAAU;;0DACjB,8OAAC;;kEACC,8OAAC;kEAAI,EAAE,UAAU,CAAC,KAAK;;;;;;kEACvB,8OAAC;kEACE,EAAE,UAAU,CAAC,WAAW;;;;;;;;;;;;0DAG7B,8OAAC;gDAAE,WAAU;0DACV,EAAE,UAAU,CAAC,IAAI;;;;;;;;;;;;kDAItB,8OAAC;wCAAQ,WAAU;;0DACjB,8OAAC;gDAAO,WAAU;;kEAChB,8OAAC;kEAAI,EAAE,UAAU,CAAC,YAAY;;;;;;kEAC9B,8OAAC;kEACE,EAAE,UAAU,CAAC,kBAAkB;;;;;;;;;;;;0DAIpC,8OAAC;gDAAI,WAAU;gDAAoB,YAAS;;kEAC1C,8OAAC;wDAAO,WAAU;wDAAe,cAAY,EAAE,UAAU,CAAC,QAAQ;kEAAE;;;;;;kEAGpE,8OAAC;wDAAI,WAAU;;;;;;kEACf,8OAAC;wDAAO,WAAU;wDAAe,cAAY,EAAE,UAAU,CAAC,IAAI;kEAAE;;;;;;;;;;;;0DAKlE,8OAAC;gDAAI,WAAU;gDAAoB,YAAS;;kEAC1C,8OAAC;wDAAO,WAAU;wDAAe,cAAY,EAAE,UAAU,CAAC,QAAQ;kEAAE;;;;;;kEAGpE,8OAAC;wDAAI,WAAU;;;;;;kEACf,8OAAC;wDAAO,WAAU;wDAAe,cAAY,EAAE,UAAU,CAAC,IAAI;kEAAE;;;;;;;;;;;;0DAKlE,8OAAC;gDAAE,IAAG;gDAAuB,WAAU;gDAAmB,MAAM;0DAC7D,EAAE,UAAU,CAAC,UAAU;;;;;;;;;;;;;;;;;;0CAK9B,8OAAC;gCAAO,WAAU;0CAChB,cAAA,8OAAC;8CAAG,EAAE,UAAU,CAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;AAMnC","debugId":null}}]
}